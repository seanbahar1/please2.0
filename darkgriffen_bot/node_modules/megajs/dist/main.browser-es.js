var _Mathceil=Math.ceil,_StringfromCharCode=String.fromCharCode,_Mathmin=Math.min,_Mathfloor=Math.floor,_Mathlog=Math.log,_Mathpow=Math.pow,E='undefined'==typeof window?'undefined'==typeof global?{}:global:window;function S(Gi,Xi){return Xi={exports:{}},Gi(Xi,Xi.exports,E),Xi.exports}var I='undefined'==typeof global?'undefined'==typeof self?'undefined'==typeof window?{}:window:self:global,R=[],A=[],C='undefined'==typeof Uint8Array?Array:Uint8Array,B=!1;function P(){B=!0;for(var Gi='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',Xi=0,Vi=Gi.length;Xi<Vi;++Xi)R[Xi]=Gi[Xi],A[Gi.charCodeAt(Xi)]=Xi;A['-'.charCodeAt(0)]=62,A['_'.charCodeAt(0)]=63}function O(Gi){B||P();var Xi,Vi,Ji,Qi,Zi,$i,es=Gi.length;if(0<es%4)throw new Error('Invalid string. Length must be a multiple of 4');Zi='='===Gi[es-2]?2:'='===Gi[es-1]?1:0,$i=new C(3*es/4-Zi),Ji=0<Zi?es-4:es;var ns=0;for(Xi=0,Vi=0;Xi<Ji;Xi+=4,Vi+=3)Qi=A[Gi.charCodeAt(Xi)]<<18|A[Gi.charCodeAt(Xi+1)]<<12|A[Gi.charCodeAt(Xi+2)]<<6|A[Gi.charCodeAt(Xi+3)],$i[ns++]=255&Qi>>16,$i[ns++]=255&Qi>>8,$i[ns++]=255&Qi;return 2===Zi?(Qi=A[Gi.charCodeAt(Xi)]<<2|A[Gi.charCodeAt(Xi+1)]>>4,$i[ns++]=255&Qi):1===Zi&&(Qi=A[Gi.charCodeAt(Xi)]<<10|A[Gi.charCodeAt(Xi+1)]<<4|A[Gi.charCodeAt(Xi+2)]>>2,$i[ns++]=255&Qi>>8,$i[ns++]=255&Qi),$i}function T(Gi){return R[63&Gi>>18]+R[63&Gi>>12]+R[63&Gi>>6]+R[63&Gi]}function D(Gi,Xi,Vi){for(var Ji,Qi=[],Zi=Xi;Zi<Vi;Zi+=3)Ji=(Gi[Zi]<<16)+(Gi[Zi+1]<<8)+Gi[Zi+2],Qi.push(T(Ji));return Qi.join('')}function M(Gi){B||P();for(var Xi,Vi=Gi.length,Ji=Vi%3,Qi='',Zi=[],$i=16383,es=0,ns=Vi-Ji;es<ns;es+=$i)Zi.push(D(Gi,es,es+$i>ns?ns:es+$i));return 1==Ji?(Xi=Gi[Vi-1],Qi+=R[Xi>>2],Qi+=R[63&Xi<<4],Qi+='=='):2==Ji&&(Xi=(Gi[Vi-2]<<8)+Gi[Vi-1],Qi+=R[Xi>>10],Qi+=R[63&Xi>>4],Qi+=R[63&Xi<<2],Qi+='='),Zi.push(Qi),Zi.join('')}function U(Gi,Xi,Vi,Ji,Qi){var Zi,$i,es=8*Qi-Ji-1,ns=(1<<es)-1,as=ns>>1,os=-7,is=Vi?Qi-1:0,ss=Vi?-1:1,ds=Gi[Xi+is];for(is+=ss,Zi=ds&(1<<-os)-1,ds>>=-os,os+=es;0<os;Zi=256*Zi+Gi[Xi+is],is+=ss,os-=8);for($i=Zi&(1<<-os)-1,Zi>>=-os,os+=Ji;0<os;$i=256*$i+Gi[Xi+is],is+=ss,os-=8);if(0===Zi)Zi=1-as;else{if(Zi===ns)return $i?NaN:(ds?-1:1)*Infinity;$i+=_Mathpow(2,Ji),Zi-=as}return(ds?-1:1)*$i*_Mathpow(2,Zi-Ji)}function z(Gi,Xi,Vi,Ji,Qi,Zi){var $i,es,ns,as=8*Zi-Qi-1,os=(1<<as)-1,is=os>>1,ss=23===Qi?5.960464477539063e-8-6.617444900424222e-24:0,ds=Ji?0:Zi-1,ls=Ji?1:-1,us=0>Xi||0===Xi&&0>1/Xi?1:0;for(Xi=Math.abs(Xi),isNaN(Xi)||Xi===Infinity?(es=isNaN(Xi)?1:0,$i=os):($i=_Mathfloor(_Mathlog(Xi)/Math.LN2),1>Xi*(ns=_Mathpow(2,-$i))&&($i--,ns*=2),Xi+=1<=$i+is?ss/ns:ss*_Mathpow(2,1-is),2<=Xi*ns&&($i++,ns/=2),$i+is>=os?(es=0,$i=os):1<=$i+is?(es=(Xi*ns-1)*_Mathpow(2,Qi),$i+=is):(es=Xi*_Mathpow(2,is-1)*_Mathpow(2,Qi),$i=0));8<=Qi;Gi[Vi+ds]=255&es,ds+=ls,es/=256,Qi-=8);for($i=$i<<Qi|es,as+=Qi;0<as;Gi[Vi+ds]=255&$i,ds+=ls,$i/=256,as-=8);Gi[Vi+ds-ls]|=128*us}var Y={}.toString,N=Array.isArray||function(Gi){return'[object Array]'==Y.call(Gi)},F=50;H.TYPED_ARRAY_SUPPORT=!(I.TYPED_ARRAY_SUPPORT!==void 0)||I.TYPED_ARRAY_SUPPORT;function W(){return H.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function K(Gi,Xi){if(W()<Xi)throw new RangeError('Invalid typed array length');return H.TYPED_ARRAY_SUPPORT?(Gi=new Uint8Array(Xi),Gi.__proto__=H.prototype):(null===Gi&&(Gi=new H(Xi)),Gi.length=Xi),Gi}function H(Gi,Xi,Vi){if(!H.TYPED_ARRAY_SUPPORT&&!(this instanceof H))return new H(Gi,Xi,Vi);if('number'==typeof Gi){if('string'==typeof Xi)throw new Error('If encoding is specified then the first argument must be a string');return J(this,Gi)}return G(this,Gi,Xi,Vi)}H.poolSize=8192,H._augment=function(Gi){return Gi.__proto__=H.prototype,Gi};function G(Gi,Xi,Vi,Ji){if('number'==typeof Xi)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&Xi instanceof ArrayBuffer?$(Gi,Xi,Vi,Ji):'string'==typeof Xi?Q(Gi,Xi,Vi):ee(Gi,Xi)}H.from=function(Gi,Xi,Vi){return G(null,Gi,Xi,Vi)},H.TYPED_ARRAY_SUPPORT&&(H.prototype.__proto__=Uint8Array.prototype,H.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&H[Symbol.species]===H);function X(Gi){if('number'!=typeof Gi)throw new TypeError('"size" argument must be a number');else if(0>Gi)throw new RangeError('"size" argument must not be negative')}function V(Gi,Xi,Vi,Ji){return X(Xi),0>=Xi?K(Gi,Xi):void 0===Vi?K(Gi,Xi):'string'==typeof Ji?K(Gi,Xi).fill(Vi,Ji):K(Gi,Xi).fill(Vi)}H.alloc=function(Gi,Xi,Vi){return V(null,Gi,Xi,Vi)};function J(Gi,Xi){if(X(Xi),Gi=K(Gi,0>Xi?0:0|te(Xi)),!H.TYPED_ARRAY_SUPPORT)for(var Vi=0;Vi<Xi;++Vi)Gi[Vi]=0;return Gi}H.allocUnsafe=function(Gi){return J(null,Gi)},H.allocUnsafeSlow=function(Gi){return J(null,Gi)};function Q(Gi,Xi,Vi){if(('string'!=typeof Vi||''===Vi)&&(Vi='utf8'),!H.isEncoding(Vi))throw new TypeError('"encoding" must be a valid string encoding');var Ji=0|oe(Xi,Vi);Gi=K(Gi,Ji);var Qi=Gi.write(Xi,Vi);return Qi!==Ji&&(Gi=Gi.slice(0,Qi)),Gi}function Z(Gi,Xi){var Vi=0>Xi.length?0:0|te(Xi.length);Gi=K(Gi,Vi);for(var Ji=0;Ji<Vi;Ji+=1)Gi[Ji]=255&Xi[Ji];return Gi}function $(Gi,Xi,Vi,Ji){if(Xi.byteLength,0>Vi||Xi.byteLength<Vi)throw new RangeError('\'offset\' is out of bounds');if(Xi.byteLength<Vi+(Ji||0))throw new RangeError('\'length\' is out of bounds');return Xi=void 0===Vi&&void 0===Ji?new Uint8Array(Xi):void 0===Ji?new Uint8Array(Xi,Vi):new Uint8Array(Xi,Vi,Ji),H.TYPED_ARRAY_SUPPORT?(Gi=Xi,Gi.__proto__=H.prototype):Gi=Z(Gi,Xi),Gi}function ee(Gi,Xi){if(ne(Xi)){var Vi=0|te(Xi.length);return(Gi=K(Gi,Vi),0===Gi.length)?Gi:(Xi.copy(Gi,0,0,Vi),Gi)}if(Xi){if('undefined'!=typeof ArrayBuffer&&Xi.buffer instanceof ArrayBuffer||'length'in Xi)return'number'!=typeof Xi.length||Ne(Xi.length)?K(Gi,0):Z(Gi,Xi);if('Buffer'===Xi.type&&N(Xi.data))return Z(Gi,Xi.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function te(Gi){if(Gi>=W())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+W().toString(16)+' bytes');return 0|Gi}H.isBuffer=Fe;function ne(Gi){return!!(null!=Gi&&Gi._isBuffer)}H.compare=function(Xi,Vi){if(!ne(Xi)||!ne(Vi))throw new TypeError('Arguments must be Buffers');if(Xi===Vi)return 0;for(var Ji=Xi.length,Qi=Vi.length,Zi=0,$i=_Mathmin(Ji,Qi);Zi<$i;++Zi)if(Xi[Zi]!==Vi[Zi]){Ji=Xi[Zi],Qi=Vi[Zi];break}return Ji<Qi?-1:Qi<Ji?1:0},H.isEncoding=function(Xi){switch((Xi+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},H.concat=function(Xi,Vi){if(!N(Xi))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Xi.length)return H.alloc(0);var Ji;if(Vi===void 0)for(Vi=0,Ji=0;Ji<Xi.length;++Ji)Vi+=Xi[Ji].length;var Qi=H.allocUnsafe(Vi),Zi=0;for(Ji=0;Ji<Xi.length;++Ji){var $i=Xi[Ji];if(!ne($i))throw new TypeError('"list" argument must be an Array of Buffers');$i.copy(Qi,Zi),Zi+=$i.length}return Qi};function oe(Gi,Xi){if(ne(Gi))return Gi.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Gi)||Gi instanceof ArrayBuffer))return Gi.byteLength;'string'!=typeof Gi&&(Gi=''+Gi);var Vi=Gi.length;if(0===Vi)return 0;for(var Ji=!1;;)switch(Xi){case'ascii':case'latin1':case'binary':return Vi;case'utf8':case'utf-8':case void 0:return De(Gi).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*Vi;case'hex':return Vi>>>1;case'base64':return ze(Gi).length;default:if(Ji)return De(Gi).length;Xi=(''+Xi).toLowerCase(),Ji=!0;}}H.byteLength=oe;function ie(Gi,Xi,Vi){var Ji=!1;if((void 0===Xi||0>Xi)&&(Xi=0),Xi>this.length)return'';if((void 0===Vi||Vi>this.length)&&(Vi=this.length),0>=Vi)return'';if(Vi>>>=0,Xi>>>=0,Vi<=Xi)return'';for(Gi||(Gi='utf8');;)switch(Gi){case'hex':return Se(this,Xi,Vi);case'utf8':case'utf-8':return be(this,Xi,Vi);case'ascii':return ke(this,Xi,Vi);case'latin1':case'binary':return ve(this,Xi,Vi);case'base64':return ye(this,Xi,Vi);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return Ie(this,Xi,Vi);default:if(Ji)throw new TypeError('Unknown encoding: '+Gi);Gi=(Gi+'').toLowerCase(),Ji=!0;}}H.prototype._isBuffer=!0;function se(Gi,Xi,Vi){var Ji=Gi[Xi];Gi[Xi]=Gi[Vi],Gi[Vi]=Ji}H.prototype.swap16=function(){var Xi=this.length;if(0!=Xi%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var Vi=0;Vi<Xi;Vi+=2)se(this,Vi,Vi+1);return this},H.prototype.swap32=function(){var Xi=this.length;if(0!=Xi%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var Vi=0;Vi<Xi;Vi+=4)se(this,Vi,Vi+3),se(this,Vi+1,Vi+2);return this},H.prototype.swap64=function(){var Xi=this.length;if(0!=Xi%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var Vi=0;Vi<Xi;Vi+=8)se(this,Vi,Vi+7),se(this,Vi+1,Vi+6),se(this,Vi+2,Vi+5),se(this,Vi+3,Vi+4);return this},H.prototype.toString=function(){var Xi=0|this.length;return 0==Xi?'':0===arguments.length?be(this,0,Xi):ie.apply(this,arguments)},H.prototype.equals=function(Xi){if(!ne(Xi))throw new TypeError('Argument must be a Buffer');return this===Xi||0===H.compare(this,Xi)},H.prototype.inspect=function(){var Xi='',Vi=F;return 0<this.length&&(Xi=this.toString('hex',0,Vi).match(/.{2}/g).join(' '),this.length>Vi&&(Xi+=' ... ')),'<Buffer '+Xi+'>'},H.prototype.compare=function(Xi,Vi,Ji,Qi,Zi){if(!ne(Xi))throw new TypeError('Argument must be a Buffer');if(void 0===Vi&&(Vi=0),void 0===Ji&&(Ji=Xi?Xi.length:0),void 0===Qi&&(Qi=0),void 0===Zi&&(Zi=this.length),0>Vi||Ji>Xi.length||0>Qi||Zi>this.length)throw new RangeError('out of range index');if(Qi>=Zi&&Vi>=Ji)return 0;if(Qi>=Zi)return-1;if(Vi>=Ji)return 1;if(Vi>>>=0,Ji>>>=0,Qi>>>=0,Zi>>>=0,this===Xi)return 0;for(var $i=Zi-Qi,es=Ji-Vi,ns=_Mathmin($i,es),as=this.slice(Qi,Zi),os=Xi.slice(Vi,Ji),is=0;is<ns;++is)if(as[is]!==os[is]){$i=as[is],es=os[is];break}return $i<es?-1:es<$i?1:0};function le(Gi,Xi,Vi,Ji,Qi){if(0===Gi.length)return-1;if('string'==typeof Vi?(Ji=Vi,Vi=0):2147483647<Vi?Vi=2147483647:-2147483648>Vi&&(Vi=-2147483648),Vi=+Vi,isNaN(Vi)&&(Vi=Qi?0:Gi.length-1),0>Vi&&(Vi=Gi.length+Vi),Vi>=Gi.length){if(Qi)return-1;Vi=Gi.length-1}else if(0>Vi)if(Qi)Vi=0;else return-1;if('string'==typeof Xi&&(Xi=H.from(Xi,Ji)),ne(Xi))return 0===Xi.length?-1:ue(Gi,Xi,Vi,Ji,Qi);if('number'==typeof Xi)return Xi&=255,H.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?Qi?Uint8Array.prototype.indexOf.call(Gi,Xi,Vi):Uint8Array.prototype.lastIndexOf.call(Gi,Xi,Vi):ue(Gi,[Xi],Vi,Ji,Qi);throw new TypeError('val must be string, number or Buffer')}function ue(Gi,Xi,Vi,Ji,Qi){function Zi(ds,ls){return 1==$i?ds[ls]:ds.readUInt16BE(ls*$i)}var $i=1,es=Gi.length,ns=Xi.length;if(void 0!==Ji&&(Ji=(Ji+'').toLowerCase(),'ucs2'===Ji||'ucs-2'===Ji||'utf16le'===Ji||'utf-16le'===Ji)){if(2>Gi.length||2>Xi.length)return-1;$i=2,es/=2,ns/=2,Vi/=2}var as;if(Qi){var os=-1;for(as=Vi;as<es;as++)if(Zi(Gi,as)!==Zi(Xi,-1==os?0:as-os))-1!=os&&(as-=as-os),os=-1;else if(-1==os&&(os=as),as-os+1===ns)return os*$i}else for(Vi+ns>es&&(Vi=es-ns),as=Vi;0<=as;as--){for(var is=!0,ss=0;ss<ns;ss++)if(Zi(Gi,as+ss)!==Zi(Xi,ss)){is=!1;break}if(is)return as}return-1}H.prototype.includes=function(Xi,Vi,Ji){return-1!==this.indexOf(Xi,Vi,Ji)},H.prototype.indexOf=function(Xi,Vi,Ji){return le(this,Xi,Vi,Ji,!0)},H.prototype.lastIndexOf=function(Xi,Vi,Ji){return le(this,Xi,Vi,Ji,!1)};function pe(Gi,Xi,Vi,Ji){Vi=+Vi||0;var Qi=Gi.length-Vi;Ji?(Ji=+Ji,Ji>Qi&&(Ji=Qi)):Ji=Qi;var Zi=Xi.length;if(0!=Zi%2)throw new TypeError('Invalid hex string');Ji>Zi/2&&(Ji=Zi/2);for(var es,$i=0;$i<Ji;++$i){if(es=parseInt(Xi.substr(2*$i,2),16),isNaN(es))return $i;Gi[Vi+$i]=es}return $i}function he(Gi,Xi,Vi,Ji){return Ye(De(Xi,Gi.length-Vi),Gi,Vi,Ji)}function ce(Gi,Xi,Vi,Ji){return Ye(Me(Xi),Gi,Vi,Ji)}function fe(Gi,Xi,Vi,Ji){return ce(Gi,Xi,Vi,Ji)}function ge(Gi,Xi,Vi,Ji){return Ye(ze(Xi),Gi,Vi,Ji)}function me(Gi,Xi,Vi,Ji){return Ye(Ue(Xi,Gi.length-Vi),Gi,Vi,Ji)}H.prototype.write=function(Xi,Vi,Ji,Qi){if(void 0===Vi)Qi='utf8',Ji=this.length,Vi=0;else if(void 0===Ji&&'string'==typeof Vi)Qi=Vi,Ji=this.length,Vi=0;else if(isFinite(Vi))Vi|=0,isFinite(Ji)?(Ji|=0,void 0===Qi&&(Qi='utf8')):(Qi=Ji,Ji=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var Zi=this.length-Vi;if((void 0===Ji||Ji>Zi)&&(Ji=Zi),0<Xi.length&&(0>Ji||0>Vi)||Vi>this.length)throw new RangeError('Attempt to write outside buffer bounds');Qi||(Qi='utf8');for(var $i=!1;;)switch(Qi){case'hex':return pe(this,Xi,Vi,Ji);case'utf8':case'utf-8':return he(this,Xi,Vi,Ji);case'ascii':return ce(this,Xi,Vi,Ji);case'latin1':case'binary':return fe(this,Xi,Vi,Ji);case'base64':return ge(this,Xi,Vi,Ji);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return me(this,Xi,Vi,Ji);default:if($i)throw new TypeError('Unknown encoding: '+Qi);Qi=(''+Qi).toLowerCase(),$i=!0;}},H.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};function ye(Gi,Xi,Vi){return 0===Xi&&Vi===Gi.length?M(Gi):M(Gi.slice(Xi,Vi))}function be(Gi,Xi,Vi){Vi=_Mathmin(Gi.length,Vi);for(var Ji=[],Qi=Xi;Qi<Vi;){var Zi=Gi[Qi],$i=null,es=239<Zi?4:223<Zi?3:191<Zi?2:1;if(Qi+es<=Vi){var ns,as,os,is;1==es?128>Zi&&($i=Zi):2==es?(ns=Gi[Qi+1],128==(192&ns)&&(is=(31&Zi)<<6|63&ns,127<is&&($i=is))):3==es?(ns=Gi[Qi+1],as=Gi[Qi+2],128==(192&ns)&&128==(192&as)&&(is=(15&Zi)<<12|(63&ns)<<6|63&as,2047<is&&(55296>is||57343<is)&&($i=is))):4==es?(ns=Gi[Qi+1],as=Gi[Qi+2],os=Gi[Qi+3],128==(192&ns)&&128==(192&as)&&128==(192&os)&&(is=(15&Zi)<<18|(63&ns)<<12|(63&as)<<6|63&os,65535<is&&1114112>is&&($i=is))):void 0}null===$i?($i=65533,es=1):65535<$i&&($i-=65536,Ji.push(55296|1023&$i>>>10),$i=56320|1023&$i),Ji.push($i),Qi+=es}return Ee(Ji)}var we=4096;function Ee(Gi){var Xi=Gi.length;if(Xi<=we)return _StringfromCharCode.apply(String,Gi);for(var Vi='',Ji=0;Ji<Xi;)Vi+=_StringfromCharCode.apply(String,Gi.slice(Ji,Ji+=we));return Vi}function ke(Gi,Xi,Vi){var Ji='';Vi=_Mathmin(Gi.length,Vi);for(var Qi=Xi;Qi<Vi;++Qi)Ji+=_StringfromCharCode(127&Gi[Qi]);return Ji}function ve(Gi,Xi,Vi){var Ji='';Vi=_Mathmin(Gi.length,Vi);for(var Qi=Xi;Qi<Vi;++Qi)Ji+=_StringfromCharCode(Gi[Qi]);return Ji}function Se(Gi,Xi,Vi){var Ji=Gi.length;(!Xi||0>Xi)&&(Xi=0),(!Vi||0>Vi||Vi>Ji)&&(Vi=Ji);for(var Qi='',Zi=Xi;Zi<Vi;++Zi)Qi+=qe(Gi[Zi]);return Qi}function Ie(Gi,Xi,Vi){for(var Ji=Gi.slice(Xi,Vi),Qi='',Zi=0;Zi<Ji.length;Zi+=2)Qi+=_StringfromCharCode(Ji[Zi]+256*Ji[Zi+1]);return Qi}H.prototype.slice=function(Xi,Vi){var Ji=this.length;Xi=~~Xi,Vi=Vi===void 0?Ji:~~Vi,0>Xi?(Xi+=Ji,0>Xi&&(Xi=0)):Xi>Ji&&(Xi=Ji),0>Vi?(Vi+=Ji,0>Vi&&(Vi=0)):Vi>Ji&&(Vi=Ji),Vi<Xi&&(Vi=Xi);var Qi;if(H.TYPED_ARRAY_SUPPORT)Qi=this.subarray(Xi,Vi),Qi.__proto__=H.prototype;else{var Zi=Vi-Xi;Qi=new H(Zi,void 0);for(var $i=0;$i<Zi;++$i)Qi[$i]=this[$i+Xi]}return Qi};function xe(Gi,Xi,Vi){if(0!=Gi%1||0>Gi)throw new RangeError('offset is not uint');if(Gi+Xi>Vi)throw new RangeError('Trying to access beyond buffer length')}H.prototype.readUIntLE=function(Xi,Vi,Ji){Xi|=0,Vi|=0,Ji||xe(Xi,Vi,this.length);for(var Qi=this[Xi],Zi=1,$i=0;++$i<Vi&&(Zi*=256);)Qi+=this[Xi+$i]*Zi;return Qi},H.prototype.readUIntBE=function(Xi,Vi,Ji){Xi|=0,Vi|=0,Ji||xe(Xi,Vi,this.length);for(var Qi=this[Xi+--Vi],Zi=1;0<Vi&&(Zi*=256);)Qi+=this[Xi+--Vi]*Zi;return Qi},H.prototype.readUInt8=function(Xi,Vi){return Vi||xe(Xi,1,this.length),this[Xi]},H.prototype.readUInt16LE=function(Xi,Vi){return Vi||xe(Xi,2,this.length),this[Xi]|this[Xi+1]<<8},H.prototype.readUInt16BE=function(Xi,Vi){return Vi||xe(Xi,2,this.length),this[Xi]<<8|this[Xi+1]},H.prototype.readUInt32LE=function(Xi,Vi){return Vi||xe(Xi,4,this.length),(this[Xi]|this[Xi+1]<<8|this[Xi+2]<<16)+16777216*this[Xi+3]},H.prototype.readUInt32BE=function(Xi,Vi){return Vi||xe(Xi,4,this.length),16777216*this[Xi]+(this[Xi+1]<<16|this[Xi+2]<<8|this[Xi+3])},H.prototype.readIntLE=function(Xi,Vi,Ji){Xi|=0,Vi|=0,Ji||xe(Xi,Vi,this.length);for(var Qi=this[Xi],Zi=1,$i=0;++$i<Vi&&(Zi*=256);)Qi+=this[Xi+$i]*Zi;return Zi*=128,Qi>=Zi&&(Qi-=_Mathpow(2,8*Vi)),Qi},H.prototype.readIntBE=function(Xi,Vi,Ji){Xi|=0,Vi|=0,Ji||xe(Xi,Vi,this.length);for(var Qi=Vi,Zi=1,$i=this[Xi+--Qi];0<Qi&&(Zi*=256);)$i+=this[Xi+--Qi]*Zi;return Zi*=128,$i>=Zi&&($i-=_Mathpow(2,8*Vi)),$i},H.prototype.readInt8=function(Xi,Vi){return Vi||xe(Xi,1,this.length),128&this[Xi]?-1*(255-this[Xi]+1):this[Xi]},H.prototype.readInt16LE=function(Xi,Vi){Vi||xe(Xi,2,this.length);var Ji=this[Xi]|this[Xi+1]<<8;return 32768&Ji?4294901760|Ji:Ji},H.prototype.readInt16BE=function(Xi,Vi){Vi||xe(Xi,2,this.length);var Ji=this[Xi+1]|this[Xi]<<8;return 32768&Ji?4294901760|Ji:Ji},H.prototype.readInt32LE=function(Xi,Vi){return Vi||xe(Xi,4,this.length),this[Xi]|this[Xi+1]<<8|this[Xi+2]<<16|this[Xi+3]<<24},H.prototype.readInt32BE=function(Xi,Vi){return Vi||xe(Xi,4,this.length),this[Xi]<<24|this[Xi+1]<<16|this[Xi+2]<<8|this[Xi+3]},H.prototype.readFloatLE=function(Xi,Vi){return Vi||xe(Xi,4,this.length),U(this,Xi,!0,23,4)},H.prototype.readFloatBE=function(Xi,Vi){return Vi||xe(Xi,4,this.length),U(this,Xi,!1,23,4)},H.prototype.readDoubleLE=function(Xi,Vi){return Vi||xe(Xi,8,this.length),U(this,Xi,!0,52,8)},H.prototype.readDoubleBE=function(Xi,Vi){return Vi||xe(Xi,8,this.length),U(this,Xi,!1,52,8)};function Re(Gi,Xi,Vi,Ji,Qi,Zi){if(!ne(Gi))throw new TypeError('"buffer" argument must be a Buffer instance');if(Xi>Qi||Xi<Zi)throw new RangeError('"value" argument is out of bounds');if(Vi+Ji>Gi.length)throw new RangeError('Index out of range')}H.prototype.writeUIntLE=function(Xi,Vi,Ji,Qi){if(Xi=+Xi,Vi|=0,Ji|=0,!Qi){var Zi=_Mathpow(2,8*Ji)-1;Re(this,Xi,Vi,Ji,Zi,0)}var $i=1,es=0;for(this[Vi]=255&Xi;++es<Ji&&($i*=256);)this[Vi+es]=255&Xi/$i;return Vi+Ji},H.prototype.writeUIntBE=function(Xi,Vi,Ji,Qi){if(Xi=+Xi,Vi|=0,Ji|=0,!Qi){var Zi=_Mathpow(2,8*Ji)-1;Re(this,Xi,Vi,Ji,Zi,0)}var $i=Ji-1,es=1;for(this[Vi+$i]=255&Xi;0<=--$i&&(es*=256);)this[Vi+$i]=255&Xi/es;return Vi+Ji},H.prototype.writeUInt8=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,1,255,0),H.TYPED_ARRAY_SUPPORT||(Xi=_Mathfloor(Xi)),this[Vi]=255&Xi,Vi+1};function Ae(Gi,Xi,Vi,Ji){0>Xi&&(Xi=65535+Xi+1);for(var Qi=0,Zi=_Mathmin(Gi.length-Vi,2);Qi<Zi;++Qi)Gi[Vi+Qi]=(Xi&255<<8*(Ji?Qi:1-Qi))>>>8*(Ji?Qi:1-Qi)}H.prototype.writeUInt16LE=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,2,65535,0),H.TYPED_ARRAY_SUPPORT?(this[Vi]=255&Xi,this[Vi+1]=Xi>>>8):Ae(this,Xi,Vi,!0),Vi+2},H.prototype.writeUInt16BE=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,2,65535,0),H.TYPED_ARRAY_SUPPORT?(this[Vi]=Xi>>>8,this[Vi+1]=255&Xi):Ae(this,Xi,Vi,!1),Vi+2};function Ce(Gi,Xi,Vi,Ji){0>Xi&&(Xi=4294967295+Xi+1);for(var Qi=0,Zi=_Mathmin(Gi.length-Vi,4);Qi<Zi;++Qi)Gi[Vi+Qi]=255&Xi>>>8*(Ji?Qi:3-Qi)}H.prototype.writeUInt32LE=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,4,4294967295,0),H.TYPED_ARRAY_SUPPORT?(this[Vi+3]=Xi>>>24,this[Vi+2]=Xi>>>16,this[Vi+1]=Xi>>>8,this[Vi]=255&Xi):Ce(this,Xi,Vi,!0),Vi+4},H.prototype.writeUInt32BE=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,4,4294967295,0),H.TYPED_ARRAY_SUPPORT?(this[Vi]=Xi>>>24,this[Vi+1]=Xi>>>16,this[Vi+2]=Xi>>>8,this[Vi+3]=255&Xi):Ce(this,Xi,Vi,!1),Vi+4},H.prototype.writeIntLE=function(Xi,Vi,Ji,Qi){if(Xi=+Xi,Vi|=0,!Qi){var Zi=_Mathpow(2,8*Ji-1);Re(this,Xi,Vi,Ji,Zi-1,-Zi)}var $i=0,es=1,ns=0;for(this[Vi]=255&Xi;++$i<Ji&&(es*=256);)0>Xi&&0==ns&&0!==this[Vi+$i-1]&&(ns=1),this[Vi+$i]=255&(Xi/es>>0)-ns;return Vi+Ji},H.prototype.writeIntBE=function(Xi,Vi,Ji,Qi){if(Xi=+Xi,Vi|=0,!Qi){var Zi=_Mathpow(2,8*Ji-1);Re(this,Xi,Vi,Ji,Zi-1,-Zi)}var $i=Ji-1,es=1,ns=0;for(this[Vi+$i]=255&Xi;0<=--$i&&(es*=256);)0>Xi&&0==ns&&0!==this[Vi+$i+1]&&(ns=1),this[Vi+$i]=255&(Xi/es>>0)-ns;return Vi+Ji},H.prototype.writeInt8=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,1,127,-128),H.TYPED_ARRAY_SUPPORT||(Xi=_Mathfloor(Xi)),0>Xi&&(Xi=255+Xi+1),this[Vi]=255&Xi,Vi+1},H.prototype.writeInt16LE=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,2,32767,-32768),H.TYPED_ARRAY_SUPPORT?(this[Vi]=255&Xi,this[Vi+1]=Xi>>>8):Ae(this,Xi,Vi,!0),Vi+2},H.prototype.writeInt16BE=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,2,32767,-32768),H.TYPED_ARRAY_SUPPORT?(this[Vi]=Xi>>>8,this[Vi+1]=255&Xi):Ae(this,Xi,Vi,!1),Vi+2},H.prototype.writeInt32LE=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,4,2147483647,-2147483648),H.TYPED_ARRAY_SUPPORT?(this[Vi]=255&Xi,this[Vi+1]=Xi>>>8,this[Vi+2]=Xi>>>16,this[Vi+3]=Xi>>>24):Ce(this,Xi,Vi,!0),Vi+4},H.prototype.writeInt32BE=function(Xi,Vi,Ji){return Xi=+Xi,Vi|=0,Ji||Re(this,Xi,Vi,4,2147483647,-2147483648),0>Xi&&(Xi=4294967295+Xi+1),H.TYPED_ARRAY_SUPPORT?(this[Vi]=Xi>>>24,this[Vi+1]=Xi>>>16,this[Vi+2]=Xi>>>8,this[Vi+3]=255&Xi):Ce(this,Xi,Vi,!1),Vi+4};function Be(Gi,Xi,Vi,Ji){if(Vi+Ji>Gi.length)throw new RangeError('Index out of range');if(0>Vi)throw new RangeError('Index out of range')}function Le(Gi,Xi,Vi,Ji,Qi){return Qi||Be(Gi,Xi,Vi,4,3.4028234663852886e38,-3.4028234663852886e38),z(Gi,Xi,Vi,Ji,23,4),Vi+4}H.prototype.writeFloatLE=function(Xi,Vi,Ji){return Le(this,Xi,Vi,!0,Ji)},H.prototype.writeFloatBE=function(Xi,Vi,Ji){return Le(this,Xi,Vi,!1,Ji)};function Pe(Gi,Xi,Vi,Ji,Qi){return Qi||Be(Gi,Xi,Vi,8,1.7976931348623157e308,-1.7976931348623157e308),z(Gi,Xi,Vi,Ji,52,8),Vi+8}H.prototype.writeDoubleLE=function(Xi,Vi,Ji){return Pe(this,Xi,Vi,!0,Ji)},H.prototype.writeDoubleBE=function(Xi,Vi,Ji){return Pe(this,Xi,Vi,!1,Ji)},H.prototype.copy=function(Xi,Vi,Ji,Qi){if(Ji||(Ji=0),Qi||0===Qi||(Qi=this.length),Vi>=Xi.length&&(Vi=Xi.length),Vi||(Vi=0),0<Qi&&Qi<Ji&&(Qi=Ji),Qi===Ji)return 0;if(0===Xi.length||0===this.length)return 0;if(0>Vi)throw new RangeError('targetStart out of bounds');if(0>Ji||Ji>=this.length)throw new RangeError('sourceStart out of bounds');if(0>Qi)throw new RangeError('sourceEnd out of bounds');Qi>this.length&&(Qi=this.length),Xi.length-Vi<Qi-Ji&&(Qi=Xi.length-Vi+Ji);var $i,Zi=Qi-Ji;if(this===Xi&&Ji<Vi&&Vi<Qi)for($i=Zi-1;0<=$i;--$i)Xi[$i+Vi]=this[$i+Ji];else if(1e3>Zi||!H.TYPED_ARRAY_SUPPORT)for($i=0;$i<Zi;++$i)Xi[$i+Vi]=this[$i+Ji];else Uint8Array.prototype.set.call(Xi,this.subarray(Ji,Ji+Zi),Vi);return Zi},H.prototype.fill=function(Xi,Vi,Ji,Qi){if('string'==typeof Xi){if('string'==typeof Vi?(Qi=Vi,Vi=0,Ji=this.length):'string'==typeof Ji&&(Qi=Ji,Ji=this.length),1===Xi.length){var Zi=Xi.charCodeAt(0);256>Zi&&(Xi=Zi)}if(void 0!==Qi&&'string'!=typeof Qi)throw new TypeError('encoding must be a string');if('string'==typeof Qi&&!H.isEncoding(Qi))throw new TypeError('Unknown encoding: '+Qi)}else'number'==typeof Xi&&(Xi&=255);if(0>Vi||this.length<Vi||this.length<Ji)throw new RangeError('Out of range index');if(Ji<=Vi)return this;Vi>>>=0,Ji=Ji===void 0?this.length:Ji>>>0,Xi||(Xi=0);var $i;if('number'==typeof Xi)for($i=Vi;$i<Ji;++$i)this[$i]=Xi;else{var es=ne(Xi)?Xi:De(new H(Xi,Qi).toString()),ns=es.length;for($i=0;$i<Ji-Vi;++$i)this[$i+Vi]=es[$i%ns]}return this};var Oe=/[^+\/0-9A-Za-z-_]/g;function Te(Gi){if(Gi=je(Gi).replace(Oe,''),2>Gi.length)return'';for(;0!=Gi.length%4;)Gi+='=';return Gi}function je(Gi){return Gi.trim?Gi.trim():Gi.replace(/^\s+|\s+$/g,'')}function qe(Gi){return 16>Gi?'0'+Gi.toString(16):Gi.toString(16)}function De(Gi,Xi){Xi=Xi||Infinity;for(var Vi,Ji=Gi.length,Qi=null,Zi=[],$i=0;$i<Ji;++$i){if(Vi=Gi.charCodeAt($i),55295<Vi&&57344>Vi){if(!Qi){if(56319<Vi){-1<(Xi-=3)&&Zi.push(239,191,189);continue}else if($i+1===Ji){-1<(Xi-=3)&&Zi.push(239,191,189);continue}Qi=Vi;continue}if(56320>Vi){-1<(Xi-=3)&&Zi.push(239,191,189),Qi=Vi;continue}Vi=(Qi-55296<<10|Vi-56320)+65536}else Qi&&-1<(Xi-=3)&&Zi.push(239,191,189);if(Qi=null,128>Vi){if(0>(Xi-=1))break;Zi.push(Vi)}else if(2048>Vi){if(0>(Xi-=2))break;Zi.push(192|Vi>>6,128|63&Vi)}else if(65536>Vi){if(0>(Xi-=3))break;Zi.push(224|Vi>>12,128|63&Vi>>6,128|63&Vi)}else if(1114112>Vi){if(0>(Xi-=4))break;Zi.push(240|Vi>>18,128|63&Vi>>12,128|63&Vi>>6,128|63&Vi)}else throw new Error('Invalid code point')}return Zi}function Me(Gi){for(var Xi=[],Vi=0;Vi<Gi.length;++Vi)Xi.push(255&Gi.charCodeAt(Vi));return Xi}function Ue(Gi,Xi){for(var Vi,Ji,Qi,Zi=[],$i=0;$i<Gi.length&&!(0>(Xi-=2));++$i)Vi=Gi.charCodeAt($i),Ji=Vi>>8,Qi=Vi%256,Zi.push(Qi),Zi.push(Ji);return Zi}function ze(Gi){return O(Te(Gi))}function Ye(Gi,Xi,Vi,Ji){for(var Qi=0;Qi<Ji&&!(Qi+Vi>=Xi.length||Qi>=Gi.length);++Qi)Xi[Qi+Vi]=Gi[Qi];return Qi}function Ne(Gi){return Gi!==Gi}function Fe(Gi){return null!=Gi&&(!!Gi._isBuffer||We(Gi)||Ke(Gi))}function We(Gi){return!!Gi.constructor&&'function'==typeof Gi.constructor.isBuffer&&Gi.constructor.isBuffer(Gi)}function Ke(Gi){return'function'==typeof Gi.readFloatLE&&'function'==typeof Gi.slice&&We(Gi.slice(0,0))}function He(){throw new Error('setTimeout has not been defined')}function Ge(){throw new Error('clearTimeout has not been defined')}var Xe=He,Ve=Ge;'function'==typeof I.setTimeout&&(Xe=setTimeout),'function'==typeof I.clearTimeout&&(Ve=clearTimeout);function Je(Gi){if(Xe===setTimeout)return setTimeout(Gi,0);if((Xe===He||!Xe)&&setTimeout)return Xe=setTimeout,setTimeout(Gi,0);try{return Xe(Gi,0)}catch(Xi){try{return Xe.call(null,Gi,0)}catch(Vi){return Xe.call(this,Gi,0)}}}function Qe(Gi){if(Ve===clearTimeout)return clearTimeout(Gi);if((Ve===Ge||!Ve)&&clearTimeout)return Ve=clearTimeout,clearTimeout(Gi);try{return Ve(Gi)}catch(Xi){try{return Ve.call(null,Gi)}catch(Vi){return Ve.call(this,Gi)}}}var Ze=[],$e=!1,et,tt=-1;function nt(){$e&&et&&($e=!1,et.length?Ze=et.concat(Ze):tt=-1,Ze.length&&ot())}function ot(){if(!$e){var Gi=Je(nt);$e=!0;for(var Xi=Ze.length;Xi;){for(et=Ze,Ze=[];++tt<Xi;)et&&et[tt].run();tt=-1,Xi=Ze.length}et=null,$e=!1,Qe(Gi)}}function it(Gi){var Xi=Array(arguments.length-1);if(1<arguments.length)for(var Vi=1;Vi<arguments.length;Vi++)Xi[Vi-1]=arguments[Vi];Ze.push(new st(Gi,Xi)),1!==Ze.length||$e||Je(ot)}function st(Gi,Xi){this.fun=Gi,this.array=Xi}st.prototype.run=function(){this.fun.apply(null,this.array)};var dt='browser',lt='browser',ut=!0,pt={},ht=[],ct='',ft={},gt={},mt={};function bt(){}var wt=bt,_t=bt,Et=bt,kt=bt,vt=bt,St=bt,It=bt;function xt(){throw new Error('process.binding is not supported')}function Rt(){return'/'}function At(){throw new Error('process.chdir is not supported')}function Ct(){return 0}var Bt=I.performance||{},Lt=Bt.now||Bt.mozNow||Bt.msNow||Bt.oNow||Bt.webkitNow||function(){return new Date().getTime()};function Pt(Gi){var Xi=1e-3*Lt.call(Bt),Vi=_Mathfloor(Xi),Ji=_Mathfloor(1e9*(Xi%1));return Gi&&(Vi-=Gi[0],Ji-=Gi[1],0>Ji&&(Vi--,Ji+=1e9)),[Vi,Ji]}var Ot=new Date;function Tt(){var Gi=new Date;return(Gi-Ot)/1e3}var jt={nextTick:it,title:dt,browser:ut,env:pt,argv:ht,version:ct,versions:ft,on:wt,addListener:_t,once:Et,off:kt,removeListener:vt,removeAllListeners:St,emit:It,binding:xt,cwd:Rt,chdir:At,umask:Ct,hrtime:Pt,platform:lt,release:gt,config:mt,uptime:Tt},qt;function Dt(){}Dt.prototype=Object.create(null);function Mt(){Mt.init.call(this)}Mt.EventEmitter=Mt,Mt.usingDomains=!1,Mt.prototype.domain=void 0,Mt.prototype._events=void 0,Mt.prototype._maxListeners=void 0,Mt.defaultMaxListeners=10,Mt.init=function(){this.domain=null,Mt.usingDomains&&qt.active&&!(this instanceof qt.Domain)&&(this.domain=qt.active),this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Dt,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Mt.prototype.setMaxListeners=function(Xi){if('number'!=typeof Xi||0>Xi||isNaN(Xi))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Xi,this};function Ut(Gi){return void 0===Gi._maxListeners?Mt.defaultMaxListeners:Gi._maxListeners}Mt.prototype.getMaxListeners=function(){return Ut(this)};function zt(Gi,Xi,Vi){if(Xi)Gi.call(Vi);else for(var Ji=Gi.length,Qi=Jt(Gi,Ji),Zi=0;Zi<Ji;++Zi)Qi[Zi].call(Vi)}function Yt(Gi,Xi,Vi,Ji){if(Xi)Gi.call(Vi,Ji);else for(var Qi=Gi.length,Zi=Jt(Gi,Qi),$i=0;$i<Qi;++$i)Zi[$i].call(Vi,Ji)}function Nt(Gi,Xi,Vi,Ji,Qi){if(Xi)Gi.call(Vi,Ji,Qi);else for(var Zi=Gi.length,$i=Jt(Gi,Zi),es=0;es<Zi;++es)$i[es].call(Vi,Ji,Qi)}function Ft(Gi,Xi,Vi,Ji,Qi,Zi){if(Xi)Gi.call(Vi,Ji,Qi,Zi);else for(var $i=Gi.length,es=Jt(Gi,$i),ns=0;ns<$i;++ns)es[ns].call(Vi,Ji,Qi,Zi)}function Wt(Gi,Xi,Vi,Ji){if(Xi)Gi.apply(Vi,Ji);else for(var Qi=Gi.length,Zi=Jt(Gi,Qi),$i=0;$i<Qi;++$i)Zi[$i].apply(Vi,Ji)}Mt.prototype.emit=function(Xi){var Vi,Ji,Qi,Zi,$i,es,ns,os='error'===Xi;if(es=this._events,es)os=os&&null==es.error;else if(!os)return!1;if(ns=this.domain,os){if(Vi=arguments[1],ns)Vi||(Vi=new Error('Uncaught, unspecified "error" event')),Vi.domainEmitter=this,Vi.domain=ns,Vi.domainThrown=!1,ns.emit('error',Vi);else if(Vi instanceof Error)throw Vi;else{var is=new Error('Uncaught, unspecified "error" event. ('+Vi+')');throw is.context=Vi,is}return!1}if(Ji=es[Xi],!Ji)return!1;var ss='function'==typeof Ji;switch(Qi=arguments.length,Qi){case 1:zt(Ji,ss,this);break;case 2:Yt(Ji,ss,this,arguments[1]);break;case 3:Nt(Ji,ss,this,arguments[1],arguments[2]);break;case 4:Ft(Ji,ss,this,arguments[1],arguments[2],arguments[3]);break;default:for(Zi=Array(Qi-1),$i=1;$i<Qi;$i++)Zi[$i-1]=arguments[$i];Wt(Ji,ss,this,Zi);}return!1,!0};function Kt(Gi,Xi,Vi,Ji){var Qi,Zi,$i;if('function'!=typeof Vi)throw new TypeError('"listener" argument must be a function');if(Zi=Gi._events,Zi?(Zi.newListener&&(Gi.emit('newListener',Xi,Vi.listener?Vi.listener:Vi),Zi=Gi._events),$i=Zi[Xi]):(Zi=Gi._events=new Dt,Gi._eventsCount=0),!$i)$i=Zi[Xi]=Vi,++Gi._eventsCount;else if('function'==typeof $i?$i=Zi[Xi]=Ji?[Vi,$i]:[$i,Vi]:Ji?$i.unshift(Vi):$i.push(Vi),!$i.warned&&(Qi=Ut(Gi),Qi&&0<Qi&&$i.length>Qi)){$i.warned=!0;var es=new Error('Possible EventEmitter memory leak detected. '+$i.length+' '+Xi+' listeners added. Use emitter.setMaxListeners() to increase limit');es.name='MaxListenersExceededWarning',es.emitter=Gi,es.type=Xi,es.count=$i.length,Ht(es)}return Gi}function Ht(Gi){'function'==typeof console.warn?console.warn(Gi):console.log(Gi)}Mt.prototype.addListener=function(Xi,Vi){return Kt(this,Xi,Vi,!1)},Mt.prototype.on=Mt.prototype.addListener,Mt.prototype.prependListener=function(Xi,Vi){return Kt(this,Xi,Vi,!0)};function Gt(Gi,Xi,Vi){function Ji(){Gi.removeListener(Xi,Ji),Qi||(Qi=!0,Vi.apply(Gi,arguments))}var Qi=!1;return Ji.listener=Vi,Ji}Mt.prototype.once=function(Xi,Vi){if('function'!=typeof Vi)throw new TypeError('"listener" argument must be a function');return this.on(Xi,Gt(this,Xi,Vi)),this},Mt.prototype.prependOnceListener=function(Xi,Vi){if('function'!=typeof Vi)throw new TypeError('"listener" argument must be a function');return this.prependListener(Xi,Gt(this,Xi,Vi)),this},Mt.prototype.removeListener=function(Xi,Vi){var Ji,Qi,Zi,$i,es;if('function'!=typeof Vi)throw new TypeError('"listener" argument must be a function');if(Qi=this._events,!Qi)return this;if(Ji=Qi[Xi],!Ji)return this;if(Ji===Vi||Ji.listener&&Ji.listener===Vi)0==--this._eventsCount?this._events=new Dt:(delete Qi[Xi],Qi.removeListener&&this.emit('removeListener',Xi,Ji.listener||Vi));else if('function'!=typeof Ji){for(Zi=-1,$i=Ji.length;0<$i--;)if(Ji[$i]===Vi||Ji[$i].listener&&Ji[$i].listener===Vi){es=Ji[$i].listener,Zi=$i;break}if(0>Zi)return this;if(1===Ji.length){if(Ji[0]=void 0,0==--this._eventsCount)return this._events=new Dt,this;delete Qi[Xi]}else Vt(Ji,Zi);Qi.removeListener&&this.emit('removeListener',Xi,es||Vi)}return this},Mt.prototype.removeAllListeners=function(Xi){var Vi,Ji;if(Ji=this._events,!Ji)return this;if(!Ji.removeListener)return 0===arguments.length?(this._events=new Dt,this._eventsCount=0):Ji[Xi]&&(0==--this._eventsCount?this._events=new Dt:delete Ji[Xi]),this;if(0===arguments.length){for(var $i,Qi=Object.keys(Ji),Zi=0;Zi<Qi.length;++Zi)$i=Qi[Zi],'removeListener'===$i||this.removeAllListeners($i);return this.removeAllListeners('removeListener'),this._events=new Dt,this._eventsCount=0,this}if(Vi=Ji[Xi],'function'==typeof Vi)this.removeListener(Xi,Vi);else if(Vi)do this.removeListener(Xi,Vi[Vi.length-1]);while(Vi[0]);return this},Mt.prototype.listeners=function(Xi){var Vi,Ji,Qi=this._events;return Qi?(Vi=Qi[Xi],Ji=Vi?'function'==typeof Vi?[Vi.listener||Vi]:Qt(Vi):[]):Ji=[],Ji},Mt.listenerCount=function(Gi,Xi){return'function'==typeof Gi.listenerCount?Gi.listenerCount(Xi):Xt.call(Gi,Xi)},Mt.prototype.listenerCount=Xt;function Xt(Gi){var Xi=this._events;if(Xi){var Vi=Xi[Gi];if('function'==typeof Vi)return 1;if(Vi)return Vi.length}return 0}Mt.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};function Vt(Gi,Xi){for(var Vi=Xi,Ji=Vi+1,Qi=Gi.length;Ji<Qi;Vi+=1,Ji+=1)Gi[Vi]=Gi[Ji];Gi.pop()}function Jt(Gi,Xi){for(var Vi=Array(Xi);Xi--;)Vi[Xi]=Gi[Xi];return Vi}function Qt(Gi){for(var Xi=Array(Gi.length),Vi=0;Vi<Xi.length;++Vi)Xi[Vi]=Gi[Vi].listener||Gi[Vi];return Xi}var Zt='function'==typeof Object.create?function(Xi,Vi){Xi.super_=Vi,Xi.prototype=Object.create(Vi.prototype,{constructor:{value:Xi,enumerable:!1,writable:!0,configurable:!0}})}:function(Xi,Vi){Xi.super_=Vi;var Ji=function(){};Ji.prototype=Vi.prototype,Xi.prototype=new Ji,Xi.prototype.constructor=Xi};var $t=Zt,en=/%[sdj%]/g;function tn(Gi){if(!An(Gi)){for(var Xi=[],Vi=0;Vi<arguments.length;Vi++)Xi.push(un(arguments[Vi]));return Xi.join(' ')}for(var Vi=1,Ji=arguments,Qi=Ji.length,Zi=(Gi+'').replace(en,function(es){if('%%'===es)return'%';if(Vi>=Qi)return es;switch(es){case'%s':return Ji[Vi++]+'';case'%d':return+Ji[Vi++];case'%j':try{return JSON.stringify(Ji[Vi++])}catch(ns){return'[Circular]'}default:return es;}}),$i=Ji[Vi];Vi<Qi;$i=Ji[++Vi])Zi+=In($i)||!Pn($i)?' '+$i:' '+un($i);return Zi}function nn(Gi,Xi){if(Bn(I.process))return function(){return nn(Gi,Xi).apply(this,arguments)};if(!0===jt.noDeprecation)return Gi;var Ji=!1;return function(){if(!Ji){if(jt.throwDeprecation)throw new Error(Xi);else jt.traceDeprecation?console.trace(Xi):console.error(Xi);Ji=!0}return Gi.apply(this,arguments)}}var an={},dn;function ln(Gi){if(Bn(dn)&&(dn=jt.env.NODE_DEBUG||''),Gi=Gi.toUpperCase(),!an[Gi])if(new RegExp('\\b'+Gi+'\\b','i').test(dn)){an[Gi]=function(){var Vi=tn.apply(null,arguments);console.error('%s %d: %s',Gi,0,Vi)}}else an[Gi]=function(){};return an[Gi]}function un(Gi,Xi){var Vi={seen:[],stylize:hn};return 3<=arguments.length&&(Vi.depth=arguments[2]),4<=arguments.length&&(Vi.colors=arguments[3]),Sn(Xi)?Vi.showHidden=Xi:Xi&&Fn(Vi,Xi),Bn(Vi.showHidden)&&(Vi.showHidden=!1),Bn(Vi.depth)&&(Vi.depth=2),Bn(Vi.colors)&&(Vi.colors=!1),Bn(Vi.customInspect)&&(Vi.customInspect=!0),Vi.colors&&(Vi.stylize=pn),gn(Vi,Gi,Vi.depth)}un.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},un.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey','null':'bold',string:'green',date:'magenta',regexp:'red'};function pn(Gi,Xi){var Vi=un.styles[Xi];return Vi?'\x1B['+un.colors[Vi][0]+'m'+Gi+'\x1B['+un.colors[Vi][1]+'m':Gi}function hn(Gi){return Gi}function cn(Gi){var Xi={};return Gi.forEach(function(Vi){Xi[Vi]=!0}),Xi}function gn(Gi,Xi,Vi){if(Gi.customInspect&&Xi&&jn(Xi.inspect)&&Xi.inspect!==un&&!(Xi.constructor&&Xi.constructor.prototype===Xi)){var Ji=Xi.inspect(Vi,Gi);return An(Ji)||(Ji=gn(Gi,Ji,Vi)),Ji}var Qi=mn(Gi,Xi);if(Qi)return Qi;var Zi=Object.keys(Xi),$i=cn(Zi);if(Gi.showHidden&&(Zi=Object.getOwnPropertyNames(Xi)),Tn(Xi)&&(0<=Zi.indexOf('message')||0<=Zi.indexOf('description')))return yn(Xi);if(0===Zi.length){if(jn(Xi)){var es=Xi.name?': '+Xi.name:'';return Gi.stylize('[Function'+es+']','special')}if(Ln(Xi))return Gi.stylize(RegExp.prototype.toString.call(Xi),'regexp');if(On(Xi))return Gi.stylize(Date.prototype.toString.call(Xi),'date');if(Tn(Xi))return yn(Xi)}var ns='',as=!1,os=['{','}'];if(vn(Xi)&&(as=!0,os=['[',']']),jn(Xi)){var is=Xi.name?': '+Xi.name:'';ns=' [Function'+is+']'}if(Ln(Xi)&&(ns=' '+RegExp.prototype.toString.call(Xi)),On(Xi)&&(ns=' '+Date.prototype.toUTCString.call(Xi)),Tn(Xi)&&(ns=' '+yn(Xi)),0===Zi.length&&(!as||0==Xi.length))return os[0]+ns+os[1];if(0>Vi)return Ln(Xi)?Gi.stylize(RegExp.prototype.toString.call(Xi),'regexp'):Gi.stylize('[Object]','special');Gi.seen.push(Xi);var ss;return ss=as?wn(Gi,Xi,Vi,$i,Zi):Zi.map(function(ds){return En(Gi,Xi,Vi,$i,ds,as)}),Gi.seen.pop(),kn(ss,ns,os)}function mn(Gi,Xi){if(Bn(Xi))return Gi.stylize('undefined','undefined');if(An(Xi)){var Vi='\''+JSON.stringify(Xi).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return Gi.stylize(Vi,'string')}return Rn(Xi)?Gi.stylize(''+Xi,'number'):Sn(Xi)?Gi.stylize(''+Xi,'boolean'):In(Xi)?Gi.stylize('null','null'):void 0}function yn(Gi){return'['+Error.prototype.toString.call(Gi)+']'}function wn(Gi,Xi,Vi,Ji,Qi){for(var Zi=[],$i=0,es=Xi.length;$i<es;++$i)Wn(Xi,$i+'')?Zi.push(En(Gi,Xi,Vi,Ji,$i+'',!0)):Zi.push('');return Qi.forEach(function(ns){ns.match(/^\d+$/)||Zi.push(En(Gi,Xi,Vi,Ji,ns,!0))}),Zi}function En(Gi,Xi,Vi,Ji,Qi,Zi){var $i,es,ns;if(ns=Object.getOwnPropertyDescriptor(Xi,Qi)||{value:Xi[Qi]},ns.get?ns.set?es=Gi.stylize('[Getter/Setter]','special'):es=Gi.stylize('[Getter]','special'):ns.set&&(es=Gi.stylize('[Setter]','special')),Wn(Ji,Qi)||($i='['+Qi+']'),es||(0>Gi.seen.indexOf(ns.value)?(es=In(Vi)?gn(Gi,ns.value,null):gn(Gi,ns.value,Vi-1),-1<es.indexOf('\n')&&(Zi?es=es.split('\n').map(function(as){return'  '+as}).join('\n').substr(2):es='\n'+es.split('\n').map(function(as){return'   '+as}).join('\n'))):es=Gi.stylize('[Circular]','special')),Bn($i)){if(Zi&&Qi.match(/^\d+$/))return es;$i=JSON.stringify(''+Qi),$i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?($i=$i.substr(1,$i.length-2),$i=Gi.stylize($i,'name')):($i=$i.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),$i=Gi.stylize($i,'string'))}return $i+': '+es}function kn(Gi,Xi,Vi){var Ji=0,Qi=Gi.reduce(function(Zi,$i){return Ji++,0<=$i.indexOf('\n')&&Ji++,Zi+$i.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<Qi?Vi[0]+(''===Xi?'':Xi+'\n ')+' '+Gi.join(',\n  ')+' '+Vi[1]:Vi[0]+Xi+' '+Gi.join(', ')+' '+Vi[1]}function vn(Gi){return Array.isArray(Gi)}function Sn(Gi){return'boolean'==typeof Gi}function In(Gi){return null===Gi}function xn(Gi){return null==Gi}function Rn(Gi){return'number'==typeof Gi}function An(Gi){return'string'==typeof Gi}function Cn(Gi){return'symbol'==typeof Gi}function Bn(Gi){return void 0===Gi}function Ln(Gi){return Pn(Gi)&&'[object RegExp]'===Mn(Gi)}function Pn(Gi){return'object'==typeof Gi&&null!==Gi}function On(Gi){return Pn(Gi)&&'[object Date]'===Mn(Gi)}function Tn(Gi){return Pn(Gi)&&('[object Error]'===Mn(Gi)||Gi instanceof Error)}function jn(Gi){return'function'==typeof Gi}function qn(Gi){return null===Gi||'boolean'==typeof Gi||'number'==typeof Gi||'string'==typeof Gi||'symbol'==typeof Gi||'undefined'==typeof Gi}function Dn(Gi){return Fe(Gi)}function Mn(Gi){return Object.prototype.toString.call(Gi)}function Un(Gi){return 10>Gi?'0'+Gi.toString(10):Gi.toString(10)}var zn=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];function Yn(){var Gi=new Date,Xi=[Un(Gi.getHours()),Un(Gi.getMinutes()),Un(Gi.getSeconds())].join(':');return[Gi.getDate(),zn[Gi.getMonth()],Xi].join(' ')}function Nn(){console.log('%s - %s',Yn(),tn.apply(null,arguments))}function Fn(Gi,Xi){if(!Xi||!Pn(Xi))return Gi;for(var Vi=Object.keys(Xi),Ji=Vi.length;Ji--;)Gi[Vi[Ji]]=Xi[Vi[Ji]];return Gi}function Wn(Gi,Xi){return Object.prototype.hasOwnProperty.call(Gi,Xi)}var Kn={inherits:$t,_extend:Fn,log:Nn,isBuffer:Dn,isPrimitive:qn,isFunction:jn,isError:Tn,isDate:On,isObject:Pn,isRegExp:Ln,isUndefined:Bn,isSymbol:Cn,isString:An,isNumber:Rn,isNullOrUndefined:xn,isNull:In,isBoolean:Sn,isArray:vn,inspect:un,deprecate:nn,format:tn,debuglog:ln};function Hn(){this.head=null,this.tail=null,this.length=0}Hn.prototype.push=function(Gi){var Xi={data:Gi,next:null};0<this.length?this.tail.next=Xi:this.head=Xi,this.tail=Xi,++this.length},Hn.prototype.unshift=function(Gi){var Xi={data:Gi,next:this.head};0===this.length&&(this.tail=Xi),this.head=Xi,++this.length},Hn.prototype.shift=function(){if(0!==this.length){var Gi=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,Gi}},Hn.prototype.clear=function(){this.head=this.tail=null,this.length=0},Hn.prototype.join=function(Gi){if(0===this.length)return'';for(var Xi=this.head,Vi=''+Xi.data;Xi=Xi.next;)Vi+=Gi+Xi.data;return Vi},Hn.prototype.concat=function(Gi){if(0===this.length)return H.alloc(0);if(1===this.length)return this.head.data;for(var Xi=H.allocUnsafe(Gi>>>0),Vi=this.head,Ji=0;Vi;)Vi.data.copy(Xi,Ji),Ji+=Vi.data.length,Vi=Vi.next;return Xi};var Gn=H.isEncoding||function(Gi){switch(Gi&&Gi.toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':case'raw':return!0;default:return!1;}};function Xn(Gi){if(Gi&&!Gn(Gi))throw new Error('Unknown encoding: '+Gi)}function Vn(Gi){switch(this.encoding=(Gi||'utf8').toLowerCase().replace(/[-_]/,''),Xn(Gi),this.encoding){case'utf8':this.surrogateSize=3;break;case'ucs2':case'utf16le':this.surrogateSize=2,this.detectIncompleteChar=Qn;break;case'base64':this.surrogateSize=3,this.detectIncompleteChar=Zn;break;default:return void(this.write=Jn);}this.charBuffer=new H(6),this.charReceived=0,this.charLength=0}Vn.prototype.write=function(Gi){for(var Vi,Xi='';this.charLength;){if(Vi=Gi.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:Gi.length,Gi.copy(this.charBuffer,this.charReceived,0,Vi),this.charReceived+=Vi,this.charReceived<this.charLength)return'';Gi=Gi.slice(Vi,Gi.length),Xi=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var Ji=Xi.charCodeAt(Xi.length-1);if(55296<=Ji&&56319>=Ji){this.charLength+=this.surrogateSize,Xi='';continue}if(this.charReceived=this.charLength=0,0===Gi.length)return Xi;break}this.detectIncompleteChar(Gi);var Qi=Gi.length;this.charLength&&(Gi.copy(this.charBuffer,0,Gi.length-this.charReceived,Qi),Qi-=this.charReceived),Xi+=Gi.toString(this.encoding,0,Qi);var Qi=Xi.length-1,Ji=Xi.charCodeAt(Qi);if(55296<=Ji&&56319>=Ji){var Zi=this.surrogateSize;return this.charLength+=Zi,this.charReceived+=Zi,this.charBuffer.copy(this.charBuffer,Zi,0,Zi),Gi.copy(this.charBuffer,0,0,Zi),Xi.substring(0,Qi)}return Xi},Vn.prototype.detectIncompleteChar=function(Gi){for(var Vi,Xi=3<=Gi.length?3:Gi.length;0<Xi;Xi--){if(Vi=Gi[Gi.length-Xi],1==Xi&&6==Vi>>5){this.charLength=2;break}if(2>=Xi&&14==Vi>>4){this.charLength=3;break}if(3>=Xi&&30==Vi>>3){this.charLength=4;break}}this.charReceived=Xi},Vn.prototype.end=function(Gi){var Xi='';if(Gi&&Gi.length&&(Xi=this.write(Gi)),this.charReceived){var Vi=this.charReceived,Ji=this.charBuffer,Qi=this.encoding;Xi+=Ji.slice(0,Vi).toString(Qi)}return Xi};function Jn(Gi){return Gi.toString(this.encoding)}function Qn(Gi){this.charReceived=Gi.length%2,this.charLength=this.charReceived?2:0}function Zn(Gi){this.charReceived=Gi.length%3,this.charLength=this.charReceived?3:0}ir.ReadableState=or;var $n=ln('stream');$t(ir,Mt);function tr(Gi,Xi,Vi){return'function'==typeof Gi.prependListener?Gi.prependListener(Xi,Vi):void(Gi._events&&Gi._events[Xi]?Array.isArray(Gi._events[Xi])?Gi._events[Xi].unshift(Vi):Gi._events[Xi]=[Vi,Gi._events[Xi]]:Gi.on(Xi,Vi))}function nr(Gi,Xi){return Gi.listeners(Xi).length}function or(Gi,Xi){Gi=Gi||{},this.objectMode=!!Gi.objectMode,Xi instanceof ta&&(this.objectMode=this.objectMode||!!Gi.readableObjectMode);var Vi=Gi.highWaterMark,Ji=this.objectMode?16:16384;this.highWaterMark=Vi||0===Vi?Vi:Ji,this.highWaterMark=~~this.highWaterMark,this.buffer=new Hn,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=Gi.defaultEncoding||'utf8',this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Gi.encoding&&(this.decoder=new Vn(Gi.encoding),this.encoding=Gi.encoding)}function ir(Gi){return this instanceof ir?void(this._readableState=new or(Gi,this),this.readable=!0,Gi&&'function'==typeof Gi.read&&(this._read=Gi.read),Mt.call(this)):new ir(Gi)}ir.prototype.push=function(Gi,Xi){var Vi=this._readableState;return Vi.objectMode||'string'!=typeof Gi||(Xi=Xi||Vi.defaultEncoding,Xi!==Vi.encoding&&(Gi=H.from(Gi,Xi),Xi='')),sr(this,Vi,Gi,Xi,!1)},ir.prototype.unshift=function(Gi){var Xi=this._readableState;return sr(this,Xi,Gi,'',!0)},ir.prototype.isPaused=function(){return!1===this._readableState.flowing};function sr(Gi,Xi,Vi,Ji,Qi){var Zi=hr(Xi,Vi);if(Zi)Gi.emit('error',Zi);else if(null===Vi)Xi.reading=!1,fr(Gi,Xi);else if(!(Xi.objectMode||Vi&&0<Vi.length))Qi||(Xi.reading=!1);else if(Xi.ended&&!Qi){var $i=new Error('stream.push() after EOF');Gi.emit('error',$i)}else if(Xi.endEmitted&&Qi){var es=new Error('stream.unshift() after end event');Gi.emit('error',es)}else{var ns;!Xi.decoder||Qi||Ji||(Vi=Xi.decoder.write(Vi),ns=!Xi.objectMode&&0===Vi.length),Qi||(Xi.reading=!1),ns||(Xi.flowing&&0===Xi.length&&!Xi.sync?(Gi.emit('data',Vi),Gi.read(0)):(Xi.length+=Xi.objectMode?1:Vi.length,Qi?Xi.buffer.unshift(Vi):Xi.buffer.push(Vi),Xi.needReadable&&gr(Gi))),yr(Gi,Xi)}return dr(Xi)}function dr(Gi){return!Gi.ended&&(Gi.needReadable||Gi.length<Gi.highWaterMark||0===Gi.length)}ir.prototype.setEncoding=function(Gi){return this._readableState.decoder=new Vn(Gi),this._readableState.encoding=Gi,this};var lr=8388608;function ur(Gi){return Gi>=lr?Gi=lr:(Gi--,Gi|=Gi>>>1,Gi|=Gi>>>2,Gi|=Gi>>>4,Gi|=Gi>>>8,Gi|=Gi>>>16,Gi++),Gi}function pr(Gi,Xi){return 0>=Gi||0===Xi.length&&Xi.ended?0:Xi.objectMode?1:Gi===Gi?(Gi>Xi.highWaterMark&&(Xi.highWaterMark=ur(Gi)),Gi<=Xi.length?Gi:Xi.ended?Xi.length:(Xi.needReadable=!0,0)):Xi.flowing&&Xi.length?Xi.buffer.head.data.length:Xi.length}ir.prototype.read=function(Gi){$n('read',Gi),Gi=parseInt(Gi,10);var Xi=this._readableState,Vi=Gi;if(0!==Gi&&(Xi.emittedReadable=!1),0===Gi&&Xi.needReadable&&(Xi.length>=Xi.highWaterMark||Xi.ended))return $n('read: emitReadable',Xi.length,Xi.ended),0===Xi.length&&Xi.ended?Ar(this):gr(this),null;if(Gi=pr(Gi,Xi),0===Gi&&Xi.ended)return 0===Xi.length&&Ar(this),null;var Ji=Xi.needReadable;$n('need readable',Ji),(0===Xi.length||Xi.length-Gi<Xi.highWaterMark)&&(Ji=!0,$n('length less than watermark',Ji)),Xi.ended||Xi.reading?(Ji=!1,$n('reading or ended',Ji)):Ji&&($n('do read'),Xi.reading=!0,Xi.sync=!0,0===Xi.length&&(Xi.needReadable=!0),this._read(Xi.highWaterMark),Xi.sync=!1,!Xi.reading&&(Gi=pr(Vi,Xi)));var Qi;return Qi=0<Gi?Sr(Gi,Xi):null,null===Qi?(Xi.needReadable=!0,Gi=0):Xi.length-=Gi,0===Xi.length&&(!Xi.ended&&(Xi.needReadable=!0),Vi!==Gi&&Xi.ended&&Ar(this)),null!==Qi&&this.emit('data',Qi),Qi};function hr(Gi,Xi){var Vi=null;return Fe(Xi)||'string'==typeof Xi||null===Xi||void 0===Xi||Gi.objectMode||(Vi=new TypeError('Invalid non-string/buffer chunk')),Vi}function fr(Gi,Xi){if(!Xi.ended){if(Xi.decoder){var Vi=Xi.decoder.end();Vi&&Vi.length&&(Xi.buffer.push(Vi),Xi.length+=Xi.objectMode?1:Vi.length)}Xi.ended=!0,gr(Gi)}}function gr(Gi){var Xi=Gi._readableState;Xi.needReadable=!1,Xi.emittedReadable||($n('emitReadable',Xi.flowing),Xi.emittedReadable=!0,Xi.sync?it(mr,Gi):mr(Gi))}function mr(Gi){$n('emit readable'),Gi.emit('readable'),vr(Gi)}function yr(Gi,Xi){Xi.readingMore||(Xi.readingMore=!0,it(br,Gi,Xi))}function br(Gi,Xi){for(var Vi=Xi.length;!Xi.reading&&!Xi.flowing&&!Xi.ended&&Xi.length<Xi.highWaterMark&&($n('maybeReadMore read 0'),Gi.read(0),Vi!==Xi.length);)Vi=Xi.length;Xi.readingMore=!1}ir.prototype._read=function(){this.emit('error',new Error('not implemented'))},ir.prototype.pipe=function(Gi,Xi){function Vi(hs){$n('onunpipe'),hs===os&&Qi()}function Ji(){$n('onend'),Gi.end()}function Qi(){$n('cleanup'),Gi.removeListener('close',es),Gi.removeListener('finish',ns),Gi.removeListener('drain',ls),Gi.removeListener('error',$i),Gi.removeListener('unpipe',Vi),os.removeListener('end',Ji),os.removeListener('end',Qi),os.removeListener('data',Zi),us=!0,is.awaitDrain&&(!Gi._writableState||Gi._writableState.needDrain)&&ls()}function Zi(hs){$n('ondata'),ps=!1;var fs=Gi.write(hs);!1!==fs||ps||((1===is.pipesCount&&is.pipes===Gi||1<is.pipesCount&&-1!==Lr(is.pipes,Gi))&&!us&&($n('false write response, pause',os._readableState.awaitDrain),os._readableState.awaitDrain++,ps=!0),os.pause())}function $i(hs){$n('onerror',hs),as(),Gi.removeListener('error',$i),0===nr(Gi,'error')&&Gi.emit('error',hs)}function es(){Gi.removeListener('finish',ns),as()}function ns(){$n('onfinish'),Gi.removeListener('close',es),as()}function as(){$n('unpipe'),os.unpipe(Gi)}var os=this,is=this._readableState;switch(is.pipesCount){case 0:is.pipes=Gi;break;case 1:is.pipes=[is.pipes,Gi];break;default:is.pipes.push(Gi);}is.pipesCount+=1,$n('pipe count=%d opts=%j',is.pipesCount,Xi);var ss=!Xi||!1!==Xi.end,ds=ss?Ji:Qi;is.endEmitted?it(ds):os.once('end',ds),Gi.on('unpipe',Vi);var ls=wr(os);Gi.on('drain',ls);var us=!1,ps=!1;return os.on('data',Zi),tr(Gi,'error',$i),Gi.once('close',es),Gi.once('finish',ns),Gi.emit('pipe',os),is.flowing||($n('pipe resume'),os.resume()),Gi};function wr(Gi){return function(){var Xi=Gi._readableState;$n('pipeOnDrain',Xi.awaitDrain),Xi.awaitDrain&&Xi.awaitDrain--,0===Xi.awaitDrain&&Gi.listeners('data').length&&(Xi.flowing=!0,vr(Gi))}}ir.prototype.unpipe=function(Gi){var Xi=this._readableState;if(0===Xi.pipesCount)return this;if(1===Xi.pipesCount)return Gi&&Gi!==Xi.pipes?this:(Gi||(Gi=Xi.pipes),Xi.pipes=null,Xi.pipesCount=0,Xi.flowing=!1,Gi&&Gi.emit('unpipe',this),this);if(!Gi){var Vi=Xi.pipes,Ji=Xi.pipesCount;Xi.pipes=null,Xi.pipesCount=0,Xi.flowing=!1;for(var Qi=0;Qi<Ji;Qi++)Vi[Qi].emit('unpipe',this);return this}var Zi=Lr(Xi.pipes,Gi);return-1===Zi?this:(Xi.pipes.splice(Zi,1),Xi.pipesCount-=1,1===Xi.pipesCount&&(Xi.pipes=Xi.pipes[0]),Gi.emit('unpipe',this),this)},ir.prototype.on=function(Gi,Xi){var Vi=Mt.prototype.on.call(this,Gi,Xi);if('data'===Gi)!1!==this._readableState.flowing&&this.resume();else if('readable'===Gi){var Ji=this._readableState;Ji.endEmitted||Ji.readableListening||(Ji.readableListening=Ji.needReadable=!0,Ji.emittedReadable=!1,Ji.reading?Ji.length&&gr(this,Ji):it(_r,this))}return Vi},ir.prototype.addListener=ir.prototype.on;function _r(Gi){$n('readable nexttick read 0'),Gi.read(0)}ir.prototype.resume=function(){var Gi=this._readableState;return Gi.flowing||($n('resume'),Gi.flowing=!0,Er(this,Gi)),this};function Er(Gi,Xi){Xi.resumeScheduled||(Xi.resumeScheduled=!0,it(kr,Gi,Xi))}function kr(Gi,Xi){Xi.reading||($n('resume read 0'),Gi.read(0)),Xi.resumeScheduled=!1,Xi.awaitDrain=0,Gi.emit('resume'),vr(Gi),Xi.flowing&&!Xi.reading&&Gi.read(0)}ir.prototype.pause=function(){return $n('call pause flowing=%j',this._readableState.flowing),!1!==this._readableState.flowing&&($n('pause'),this._readableState.flowing=!1,this.emit('pause')),this};function vr(Gi){var Xi=Gi._readableState;for($n('flow',Xi.flowing);Xi.flowing&&null!==Gi.read(););}ir.prototype.wrap=function(Gi){var Xi=this._readableState,Vi=!1,Ji=this;for(var Qi in Gi.on('end',function(){if($n('wrapped end'),Xi.decoder&&!Xi.ended){var $i=Xi.decoder.end();$i&&$i.length&&Ji.push($i)}Ji.push(null)}),Gi.on('data',function($i){if(($n('wrapped data'),Xi.decoder&&($i=Xi.decoder.write($i)),!(Xi.objectMode&&(null===$i||void 0===$i)))&&(Xi.objectMode||$i&&$i.length)){var es=Ji.push($i);es||(Vi=!0,Gi.pause())}}),Gi)void 0===this[Qi]&&'function'==typeof Gi[Qi]&&(this[Qi]=function($i){return function(){return Gi[$i].apply(Gi,arguments)}}(Qi));return Br(['error','close','destroy','pause','resume'],function($i){Gi.on($i,Ji.emit.bind(Ji,$i))}),Ji._read=function($i){$n('wrapped _read',$i),Vi&&(Vi=!1,Gi.resume())},Ji},ir._fromList=Sr;function Sr(Gi,Xi){if(0===Xi.length)return null;var Vi;return Xi.objectMode?Vi=Xi.buffer.shift():!Gi||Gi>=Xi.length?(Vi=Xi.decoder?Xi.buffer.join(''):1===Xi.buffer.length?Xi.buffer.head.data:Xi.buffer.concat(Xi.length),Xi.buffer.clear()):Vi=Ir(Gi,Xi.buffer,Xi.decoder),Vi}function Ir(Gi,Xi,Vi){var Ji;return Gi<Xi.head.data.length?(Ji=Xi.head.data.slice(0,Gi),Xi.head.data=Xi.head.data.slice(Gi)):Gi===Xi.head.data.length?Ji=Xi.shift():Ji=Vi?xr(Gi,Xi):Rr(Gi,Xi),Ji}function xr(Gi,Xi){var Vi=Xi.head,Ji=1,Qi=Vi.data;for(Gi-=Qi.length;Vi=Vi.next;){var Zi=Vi.data,$i=Gi>Zi.length?Zi.length:Gi;if(Qi+=$i===Zi.length?Zi:Zi.slice(0,Gi),Gi-=$i,0===Gi){$i===Zi.length?(++Ji,Xi.head=Vi.next?Vi.next:Xi.tail=null):(Xi.head=Vi,Vi.data=Zi.slice($i));break}++Ji}return Xi.length-=Ji,Qi}function Rr(Gi,Xi){var Vi=H.allocUnsafe(Gi),Ji=Xi.head,Qi=1;for(Ji.data.copy(Vi),Gi-=Ji.data.length;Ji=Ji.next;){var Zi=Ji.data,$i=Gi>Zi.length?Zi.length:Gi;if(Zi.copy(Vi,Vi.length-Gi,0,$i),Gi-=$i,0===Gi){$i===Zi.length?(++Qi,Xi.head=Ji.next?Ji.next:Xi.tail=null):(Xi.head=Ji,Ji.data=Zi.slice($i));break}++Qi}return Xi.length-=Qi,Vi}function Ar(Gi){var Xi=Gi._readableState;if(0<Xi.length)throw new Error('"endReadable()" called on non-empty stream');Xi.endEmitted||(Xi.ended=!0,it(Cr,Xi,Gi))}function Cr(Gi,Xi){Gi.endEmitted||0!==Gi.length||(Gi.endEmitted=!0,Xi.readable=!1,Xi.emit('end'))}function Br(Gi,Xi){for(var Vi=0,Ji=Gi.length;Vi<Ji;Vi++)Xi(Gi[Vi],Vi)}function Lr(Gi,Xi){for(var Vi=0,Ji=Gi.length;Vi<Ji;Vi++)if(Gi[Vi]===Xi)return Vi;return-1}jr.WritableState=Tr,$t(jr,Mt);function Pr(){}function Or(Gi,Xi,Vi){this.chunk=Gi,this.encoding=Xi,this.callback=Vi,this.next=null}function Tr(Gi,Xi){Object.defineProperty(this,'buffer',{get:nn(function(){return this.getBuffer()},'_writableState.buffer is deprecated. Use _writableState.getBuffer instead.')}),Gi=Gi||{},this.objectMode=!!Gi.objectMode,Xi instanceof ta&&(this.objectMode=this.objectMode||!!Gi.writableObjectMode);var Vi=Gi.highWaterMark,Ji=this.objectMode?16:16384;this.highWaterMark=Vi||0===Vi?Vi:Ji,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var Qi=!1===Gi.decodeStrings;this.decodeStrings=!Qi,this.defaultEncoding=Gi.defaultEncoding||'utf8',this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Zi){Fr(Xi,Zi)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Qr(this)}Tr.prototype.getBuffer=function(){for(var Xi=this.bufferedRequest,Vi=[];Xi;)Vi.push(Xi),Xi=Xi.next;return Vi};function jr(Gi){return this instanceof jr||this instanceof ta?void(this._writableState=new Tr(Gi,this),this.writable=!0,Gi&&('function'==typeof Gi.write&&(this._write=Gi.write),'function'==typeof Gi.writev&&(this._writev=Gi.writev)),Mt.call(this)):new jr(Gi)}jr.prototype.pipe=function(){this.emit('error',new Error('Cannot pipe, not readable'))};function qr(Gi,Xi){var Vi=new Error('write after end');Gi.emit('error',Vi),it(Xi,Vi)}function Dr(Gi,Xi,Vi,Ji){var Qi=!0,Zi=!1;return null===Vi?Zi=new TypeError('May not write null values to stream'):!H.isBuffer(Vi)&&'string'!=typeof Vi&&void 0!==Vi&&!Xi.objectMode&&(Zi=new TypeError('Invalid non-string/buffer chunk')),Zi&&(Gi.emit('error',Zi),it(Ji,Zi),Qi=!1),Qi}jr.prototype.write=function(Gi,Xi,Vi){var Ji=this._writableState,Qi=!1;return'function'==typeof Xi&&(Vi=Xi,Xi=null),H.isBuffer(Gi)?Xi='buffer':!Xi&&(Xi=Ji.defaultEncoding),'function'!=typeof Vi&&(Vi=Pr),Ji.ended?qr(this,Vi):Dr(this,Ji,Gi,Vi)&&(Ji.pendingcb++,Qi=Ur(this,Ji,Gi,Xi,Vi)),Qi},jr.prototype.cork=function(){var Gi=this._writableState;Gi.corked++},jr.prototype.uncork=function(){var Gi=this._writableState;Gi.corked&&(Gi.corked--,!Gi.writing&&!Gi.corked&&!Gi.finished&&!Gi.bufferProcessing&&Gi.bufferedRequest&&Hr(this,Gi))},jr.prototype.setDefaultEncoding=function(Xi){if('string'==typeof Xi&&(Xi=Xi.toLowerCase()),!(-1<['hex','utf8','utf-8','ascii','binary','base64','ucs2','ucs-2','utf16le','utf-16le','raw'].indexOf((Xi+'').toLowerCase())))throw new TypeError('Unknown encoding: '+Xi);return this._writableState.defaultEncoding=Xi,this};function Mr(Gi,Xi,Vi){return Gi.objectMode||!1===Gi.decodeStrings||'string'!=typeof Xi||(Xi=H.from(Xi,Vi)),Xi}function Ur(Gi,Xi,Vi,Ji,Qi){Vi=Mr(Xi,Vi,Ji),H.isBuffer(Vi)&&(Ji='buffer');var Zi=Xi.objectMode?1:Vi.length;Xi.length+=Zi;var $i=Xi.length<Xi.highWaterMark;if($i||(Xi.needDrain=!0),Xi.writing||Xi.corked){var es=Xi.lastBufferedRequest;Xi.lastBufferedRequest=new Or(Vi,Ji,Qi),es?es.next=Xi.lastBufferedRequest:Xi.bufferedRequest=Xi.lastBufferedRequest,Xi.bufferedRequestCount+=1}else zr(Gi,Xi,!1,Zi,Vi,Ji,Qi);return $i}function zr(Gi,Xi,Vi,Ji,Qi,Zi,$i){Xi.writelen=Ji,Xi.writecb=$i,Xi.writing=!0,Xi.sync=!0,Vi?Gi._writev(Qi,Xi.onwrite):Gi._write(Qi,Zi,Xi.onwrite),Xi.sync=!1}function Yr(Gi,Xi,Vi,Ji,Qi){--Xi.pendingcb,Vi?it(Qi,Ji):Qi(Ji),Gi._writableState.errorEmitted=!0,Gi.emit('error',Ji)}function Nr(Gi){Gi.writing=!1,Gi.writecb=null,Gi.length-=Gi.writelen,Gi.writelen=0}function Fr(Gi,Xi){var Vi=Gi._writableState,Ji=Vi.sync,Qi=Vi.writecb;if(Nr(Vi),Xi)Yr(Gi,Vi,Ji,Xi,Qi);else{var Zi=Gr(Vi);Zi||Vi.corked||Vi.bufferProcessing||!Vi.bufferedRequest||Hr(Gi,Vi),Ji?it(Wr,Gi,Vi,Zi,Qi):Wr(Gi,Vi,Zi,Qi)}}function Wr(Gi,Xi,Vi,Ji){Vi||Kr(Gi,Xi),Xi.pendingcb--,Ji(),Vr(Gi,Xi)}function Kr(Gi,Xi){0===Xi.length&&Xi.needDrain&&(Xi.needDrain=!1,Gi.emit('drain'))}function Hr(Gi,Xi){Xi.bufferProcessing=!0;var Vi=Xi.bufferedRequest;if(Gi._writev&&Vi&&Vi.next){var Ji=Xi.bufferedRequestCount,Qi=Array(Ji),Zi=Xi.corkedRequestsFree;Zi.entry=Vi;for(var $i=0;Vi;)Qi[$i]=Vi,Vi=Vi.next,$i+=1;zr(Gi,Xi,!0,Xi.length,Qi,'',Zi.finish),Xi.pendingcb++,Xi.lastBufferedRequest=null,Zi.next?(Xi.corkedRequestsFree=Zi.next,Zi.next=null):Xi.corkedRequestsFree=new Qr(Xi)}else{for(;Vi;){var es=Vi.chunk,ns=Vi.encoding,as=Vi.callback,os=Xi.objectMode?1:es.length;if(zr(Gi,Xi,!1,os,es,ns,as),Vi=Vi.next,Xi.writing)break}null===Vi&&(Xi.lastBufferedRequest=null)}Xi.bufferedRequestCount=0,Xi.bufferedRequest=Vi,Xi.bufferProcessing=!1}jr.prototype._write=function(Gi,Xi,Vi){Vi(new Error('not implemented'))},jr.prototype._writev=null,jr.prototype.end=function(Gi,Xi,Vi){var Ji=this._writableState;'function'==typeof Gi?(Vi=Gi,Gi=null,Xi=null):'function'==typeof Xi&&(Vi=Xi,Xi=null),null!==Gi&&Gi!==void 0&&this.write(Gi,Xi),Ji.corked&&(Ji.corked=1,this.uncork()),Ji.ending||Ji.finished||Jr(this,Ji,Vi)};function Gr(Gi){return Gi.ending&&0===Gi.length&&null===Gi.bufferedRequest&&!Gi.finished&&!Gi.writing}function Xr(Gi,Xi){Xi.prefinished||(Xi.prefinished=!0,Gi.emit('prefinish'))}function Vr(Gi,Xi){var Vi=Gr(Xi);return Vi&&(0===Xi.pendingcb?(Xr(Gi,Xi),Xi.finished=!0,Gi.emit('finish')):Xr(Gi,Xi)),Vi}function Jr(Gi,Xi,Vi){Xi.ending=!0,Vr(Gi,Xi),Vi&&(Xi.finished?it(Vi):Gi.once('finish',Vi)),Xi.ended=!0,Gi.writable=!1}function Qr(Gi){var Xi=this;this.next=null,this.entry=null,this.finish=function(Vi){var Ji=Xi.entry;for(Xi.entry=null;Ji;){var Qi=Ji.callback;Gi.pendingcb--,Qi(Vi),Ji=Ji.next}Gi.corkedRequestsFree?Gi.corkedRequestsFree.next=Xi:Gi.corkedRequestsFree=Xi}}$t(ta,ir);for(var ea,Zr=Object.keys(jr.prototype),$r=0;$r<Zr.length;$r++)ea=Zr[$r],ta.prototype[ea]||(ta.prototype[ea]=jr.prototype[ea]);function ta(Gi){return this instanceof ta?void(ir.call(this,Gi),jr.call(this,Gi),Gi&&!1===Gi.readable&&(this.readable=!1),Gi&&!1===Gi.writable&&(this.writable=!1),this.allowHalfOpen=!0,Gi&&!1===Gi.allowHalfOpen&&(this.allowHalfOpen=!1),this.once('end',na)):new ta(Gi)}function na(){this.allowHalfOpen||this._writableState.ended||it(ra,this)}function ra(Gi){Gi.end()}$t(ia,ta);function aa(Gi){this.afterTransform=function(Xi,Vi){return oa(Gi,Xi,Vi)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function oa(Gi,Xi,Vi){var Ji=Gi._transformState;Ji.transforming=!1;var Qi=Ji.writecb;if(!Qi)return Gi.emit('error',new Error('no writecb in Transform class'));Ji.writechunk=null,Ji.writecb=null,null!==Vi&&Vi!==void 0&&Gi.push(Vi),Qi(Xi);var Zi=Gi._readableState;Zi.reading=!1,(Zi.needReadable||Zi.length<Zi.highWaterMark)&&Gi._read(Zi.highWaterMark)}function ia(Gi){if(!(this instanceof ia))return new ia(Gi);ta.call(this,Gi),this._transformState=new aa(this);var Xi=this;this._readableState.needReadable=!0,this._readableState.sync=!1,Gi&&('function'==typeof Gi.transform&&(this._transform=Gi.transform),'function'==typeof Gi.flush&&(this._flush=Gi.flush)),this.once('prefinish',function(){'function'==typeof this._flush?this._flush(function(Vi){sa(Xi,Vi)}):sa(Xi)})}ia.prototype.push=function(Gi,Xi){return this._transformState.needTransform=!1,ta.prototype.push.call(this,Gi,Xi)},ia.prototype._transform=function(){throw new Error('Not implemented')},ia.prototype._write=function(Gi,Xi,Vi){var Ji=this._transformState;if(Ji.writecb=Vi,Ji.writechunk=Gi,Ji.writeencoding=Xi,!Ji.transforming){var Qi=this._readableState;(Ji.needTransform||Qi.needReadable||Qi.length<Qi.highWaterMark)&&this._read(Qi.highWaterMark)}},ia.prototype._read=function(){var Xi=this._transformState;null!==Xi.writechunk&&Xi.writecb&&!Xi.transforming?(Xi.transforming=!0,this._transform(Xi.writechunk,Xi.writeencoding,Xi.afterTransform)):Xi.needTransform=!0};function sa(Gi,Xi){if(Xi)return Gi.emit('error',Xi);var Vi=Gi._writableState,Ji=Gi._transformState;if(Vi.length)throw new Error('Calling transform done when ws.length != 0');if(Ji.transforming)throw new Error('Calling transform done when still transforming');return Gi.push(null)}$t(da,ia);function da(Gi){return this instanceof da?void ia.call(this,Gi):new da(Gi)}da.prototype._transform=function(Gi,Xi,Vi){Vi(null,Gi)},$t(la,Mt),la.Readable=ir,la.Writable=jr,la.Duplex=ta,la.Transform=ia,la.PassThrough=da,la.Stream=la;function la(){Mt.call(this)}la.prototype.pipe=function(Gi,Xi){function Vi(os){Gi.writable&&!1===Gi.write(os)&&ns.pause&&ns.pause()}function Ji(){ns.readable&&ns.resume&&ns.resume()}function Qi(){as||(as=!0,Gi.end())}function Zi(){as||(as=!0,'function'==typeof Gi.destroy&&Gi.destroy())}function $i(os){if(es(),0===Mt.listenerCount(this,'error'))throw os}function es(){ns.removeListener('data',Vi),Gi.removeListener('drain',Ji),ns.removeListener('end',Qi),ns.removeListener('close',Zi),ns.removeListener('error',$i),Gi.removeListener('error',$i),ns.removeListener('end',es),ns.removeListener('close',es),Gi.removeListener('close',es)}var ns=this;ns.on('data',Vi),Gi.on('drain',Ji),Gi._isStdio||Xi&&!1===Xi.end||(ns.on('end',Qi),ns.on('close',Zi));var as=!1;return ns.on('error',$i),Gi.on('error',$i),ns.on('end',es),ns.on('close',es),Gi.on('close',es),Gi.emit('pipe',ns),Gi};var ua=S(function(Gi,Xi){function Vi(Qi,Zi,$i){function es(){for(;is.length&&!ds.paused;){var ls=is.shift();if(null===ls)return ds.emit('end');ds.emit('data',ls)}}function ns(){ds.writable=!1,Zi.call(ds),!ds.readable&&ds.autoDestroy&&ds.destroy()}Qi=Qi||function(ls){this.queue(ls)},Zi=Zi||function(){this.queue(null)};var as=!1,os=!1,is=[],ss=!1,ds=new Ji;return ds.readable=ds.writable=!0,ds.paused=!1,ds.autoDestroy=!($i&&!1===$i.autoDestroy),ds.write=function(ls){return Qi.call(this,ls),!ds.paused},ds.queue=ds.push=function(ls){return ss?ds:(null===ls&&(ss=!0),is.push(ls),es(),ds)},ds.on('end',function(){ds.readable=!1,!ds.writable&&ds.autoDestroy&&it(function(){ds.destroy()})}),ds.end=function(ls){if(!as)return as=!0,arguments.length&&ds.write(ls),ns(),ds},ds.destroy=function(){if(!os)return os=!0,as=!0,is.length=0,ds.writable=ds.readable=!1,ds.emit('close'),ds},ds.pause=function(){if(!ds.paused)return ds.paused=!0,ds},ds.resume=function(){return ds.paused&&(ds.paused=!1,ds.emit('resume')),es(),ds.paused||ds.emit('drain'),ds},ds}var Ji=la;Xi=Gi.exports=Vi,Vi.through=Vi}),pa=ua&&'object'==typeof ua&&'default'in ua?ua['default']:ua,ha=S(function(Gi,Xi){function Vi(Qi,Zi,$i){function es(){for(;is.length&&!ds.paused;){var ls=is.shift();if(null===ls)return ds.emit('end');ds.emit('data',ls)}}function ns(){ds.writable=!1,Zi.call(ds),!ds.readable&&ds.autoDestroy&&ds.destroy()}Qi=Qi||function(ls){this.queue(ls)},Zi=Zi||function(){this.queue(null)};var as=!1,os=!1,is=[],ss=!1,ds=new Ji;return ds.readable=ds.writable=!0,ds.paused=!1,ds.autoDestroy=!($i&&!1===$i.autoDestroy),ds.write=function(ls){return Qi.call(this,ls),!ds.paused},ds.queue=ds.push=function(ls){return ss?ds:(null===ls&&(ss=!0),is.push(ls),es(),ds)},ds.on('end',function(){ds.readable=!1,!ds.writable&&ds.autoDestroy&&it(function(){ds.destroy()})}),ds.end=function(ls){if(!as)return as=!0,arguments.length&&ds.write(ls),ns(),ds},ds.destroy=function(){if(!os)return os=!0,as=!0,is.length=0,ds.writable=ds.readable=!1,ds.emit('close'),ds},ds.pause=function(){if(!ds.paused)return ds.paused=!0,ds},ds.resume=function(){return ds.paused&&(ds.paused=!1,ds.emit('resume')),es(),ds.paused||ds.emit('drain'),ds},ds}var Ji=la;Xi=Gi.exports=Vi,Vi.through=Vi}),ca=ha&&'object'==typeof ha&&'default'in ha?ha['default']:ha,fa=S(function(Gi){function Xi(ns,as){if(ns.forEach)return ns.forEach(as);for(var os=0;os<ns.length;os++)as(ns[os],os)}var Qi=['write','end','destroy'],Zi=['resume','pause'],$i=['data','close'],es=Array.prototype.slice;Gi.exports=function(ns,as){function ls(hs){us.emit('error',hs)}var us=new la,ps=!1;return Xi(Qi,function(hs){us[hs]=function(){return ns[hs].apply(ns,arguments)}}),Xi(Zi,function(hs){us[hs]=function(){us.emit(hs);var gs=as[hs];return gs?gs.apply(as,arguments):void as.emit(hs)}}),Xi($i,function(hs){as.on(hs,function(){var gs=es.call(arguments);gs.unshift(hs),us.emit.apply(us,gs)})}),as.on('end',function(){if(!ps){ps=!0;var hs=es.call(arguments);hs.unshift('end'),us.emit.apply(us,hs)}}),ns.on('drain',function(){us.emit('drain')}),ns.on('error',ls),as.on('error',ls),us.writable=ns.writable,us.readable=as.readable,us}}),ga=fa&&'object'==typeof fa&&'default'in fa?fa['default']:fa,ma=S(function(Gi){Gi.exports=function(){function Ji(os){2>os.length||(os[0].pipe(os[1]),Ji(os.slice(1)))}function Qi(){var os=[].slice.call(arguments);os.unshift('error'),ns.emit.apply(ns,os)}var Zi;if(Zi=1==arguments.length&&Array.isArray(arguments[0])?arguments[0]:[].slice.call(arguments),0==Zi.length)return ca();if(1==Zi.length)return Zi[0];var $i=Zi[0],es=Zi[Zi.length-1],ns=ga($i,es);Ji(Zi);for(var as=1;as<Zi.length-1;as++)Zi[as].on('error',Qi);return ns}}),ya=ma&&'object'==typeof ma&&'default'in ma?ma['default']:ma;function ba(Gi,Xi){var Vi=[],Ji;Gi.on('data',function(Qi){Vi.push(Qi)}),Gi.on('end',function(){Ji||(Ji=!0,Xi(null,H.concat(Vi)))}),Gi.on('error',function(Qi){Ji||(Ji=!0,Xi(Qi))})}function wa(Gi){var Xi;return pa(function(Vi){Xi&&(Vi=H.concat([Xi,Vi]));var Ji=_Mathfloor(Vi.length/Gi)*Gi;Ji?Vi.length>Ji?(Xi=Vi.slice(Ji),this.emit('data',Vi.slice(0,Ji))):(Xi=void 0,this.emit('data',Vi)):Xi=Xi?H.concat([Xi,Vi]):Vi},function(){Xi&&this.emit('data',Xi),this.emit('end')})}function _a(Gi){var Xi=[],Vi=0;return pa(function(Ji){Xi.push(Ji),Vi+=Ji.length},function(){Gi(Vi),Xi.forEach(this.emit.bind(this,'data')),this.emit('end')})}var Ea={},ka=S(function(Gi){!function(Ji){'use strict';function Qi(es,ns){if(ns=ns||{type:'Array'},'undefined'!=typeof jt&&'number'==typeof jt.pid)return Zi(es,ns);var as=window.crypto||window.msCrypto;if(!as)throw new Error('Your browser does not support window.crypto.');return $i(es,ns)}function Zi(es,ns){var os=Ea.randomBytes(es);switch(ns.type){case'Array':return[].slice.call(os);case'Buffer':return os;case'Uint8Array':for(var is=new Uint8Array(es),ss=0;ss<es;++ss)is[ss]=os.readUInt8(ss);return is;default:throw new Error(ns.type+' is unsupported.');}}function $i(es,ns){var as=new Uint8Array(es),os=window.crypto||window.msCrypto;switch(os.getRandomValues(as),ns.type){case'Array':return[].slice.call(as);case'Buffer':try{new H(1)}catch(ss){throw new Error('Buffer not supported in this environment. Use Node.js or Browserify for browser support.')}return new H(as);case'Uint8Array':return as;default:throw new Error(ns.type+' is unsupported.');}}'undefined'!=typeof define&&define.amd?define([],function(){return Qi}):'undefined'!=typeof Gi&&Gi.exports?Gi.exports=Qi:Ji.secureRandom=Qi,Qi.randomArray=function(es){return Qi(es,{type:'Array'})},Qi.randomUint8Array=function(es){return Qi(es,{type:'Uint8Array'})},Qi.randomBuffer=function(es){return Qi(es,{type:'Buffer'})}}(E)}),va=ka&&'object'==typeof ka&&'default'in ka?ka['default']:ka,Sa='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(Gi){return typeof Gi}:function(Gi){return Gi&&'function'==typeof Symbol&&Gi.constructor===Symbol&&Gi!==Symbol.prototype?'symbol':typeof Gi},Ia=function(Gi,Xi){if(!(Gi instanceof Xi))throw new TypeError('Cannot call a class as a function')},xa=function(){function Gi(Xi,Vi){for(var Qi,Ji=0;Ji<Vi.length;Ji++)Qi=Vi[Ji],Qi.enumerable=Qi.enumerable||!1,Qi.configurable=!0,'value'in Qi&&(Qi.writable=!0),Object.defineProperty(Xi,Qi.key,Qi)}return function(Xi,Vi,Ji){return Vi&&Gi(Xi.prototype,Vi),Ji&&Gi(Xi,Ji),Xi}}(),Ra=function Gi(Xi,Vi,Ji){null===Xi&&(Xi=Function.prototype);var Qi=Object.getOwnPropertyDescriptor(Xi,Vi);if(Qi===void 0){var Zi=Object.getPrototypeOf(Xi);return null===Zi?void 0:Gi(Zi,Vi,Ji)}if('value'in Qi)return Qi.value;var $i=Qi.get;return void 0===$i?void 0:$i.call(Ji)},Aa=function(Gi,Xi){if('function'!=typeof Xi&&null!==Xi)throw new TypeError('Super expression must either be null or a function, not '+typeof Xi);Gi.prototype=Object.create(Xi&&Xi.prototype,{constructor:{value:Gi,enumerable:!1,writable:!0,configurable:!0}}),Xi&&(Object.setPrototypeOf?Object.setPrototypeOf(Gi,Xi):Gi.__proto__=Xi)},Ca=function(Gi,Xi){if(!Gi)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Xi&&('object'==typeof Xi||'function'==typeof Xi)?Xi:Gi},Ba=function Gi(Xi,Vi,Ji,Qi){var Zi=Object.getOwnPropertyDescriptor(Xi,Vi);if(Zi===void 0){var $i=Object.getPrototypeOf(Xi);null!==$i&&Gi($i,Vi,Ji,Qi)}else if('value'in Zi&&Zi.writable)Zi.value=Ji;else{var es=Zi.set;es!==void 0&&es.call(Qi,Ji)}return Ji},La=function(){function Gi(Xi,Vi){var Ji=[],Qi=!0,Zi=!1,$i;try{for(var ns,es=Xi[Symbol.iterator]();!(Qi=(ns=es.next()).done)&&(Ji.push(ns.value),!(Vi&&Ji.length===Vi));Qi=!0);}catch(as){Zi=!0,$i=as}finally{try{!Qi&&es['return']&&es['return']()}finally{if(Zi)throw $i}}return Ji}return function(Xi,Vi){if(Array.isArray(Xi))return Xi;if(Symbol.iterator in Object(Xi))return Gi(Xi,Vi);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),Pa=function(){function Gi(Xi){Ia(this,Gi),this._tables[0][0][0]||this._precompute();var Qi,Zi,$i,Vi=void 0,Ji=void 0,es=this._tables[0][4],ns=this._tables[1],as=Xi.length,os=1;if(4!==as&&6!==as&&8!==as)throw new Error('invalid aes key size');for(this._key=[Zi=Xi.slice(0),$i=[]],Vi=as;Vi<4*as+28;Vi++)Qi=Zi[Vi-1],(0==Vi%as||8===as&&4==Vi%as)&&(Qi=es[Qi>>>24]<<24^es[255&Qi>>16]<<16^es[255&Qi>>8]<<8^es[255&Qi],0==Vi%as&&(Qi=Qi<<8^Qi>>>24^os<<24,os=os<<1^283*(os>>7))),Zi[Vi]=Zi[Vi-as]^Qi;for(Ji=0;Vi;Ji++,Vi--)Qi=Zi[3&Ji?Vi:Vi-4],$i[Ji]=4>=Vi||4>Ji?Qi:ns[0][es[Qi>>>24]]^ns[1][es[255&Qi>>16]]^ns[2][es[255&Qi>>8]]^ns[3][es[255&Qi]]}return xa(Gi,[{key:'encrypt',value:function(Vi){return this._crypt(Vi,0)}},{key:'decrypt',value:function(Vi){return this._crypt(Vi,1)}},{key:'_precompute',value:function(){var es,ns,is,ss,ds,ls,us,ps,Vi=this._tables[0],Ji=this._tables[1],Qi=Vi[4],Zi=Ji[4],$i=void 0,as=[],os=[];for($i=0;256>$i;$i++)os[(as[$i]=$i<<1^283*($i>>7))^$i]=$i;for(es=ns=0;!Qi[es];es^=is||1,ns=os[ns]||1)for(ls=ns^ns<<1^ns<<2^ns<<3^ns<<4,ls=99^(ls>>8^255&ls),Qi[es]=ls,Zi[ls]=es,ds=as[ss=as[is=as[es]]],ps=16843009*ds^65537*ss^257*is^16843008*es,us=257*as[ls]^16843008*ls,$i=0;4>$i;$i++)Vi[$i][es]=us=us<<24^us>>>8,Ji[$i][ls]=ps=ps<<24^ps>>>8;for($i=0;5>$i;$i++)Vi[$i]=Vi[$i].slice(0),Ji[$i]=Ji[$i].slice(0)}},{key:'_crypt',value:function(Vi,Ji){if(4!==Vi.length)throw new Error('invalid aes block size');var as,os,is,Qi=this._key[Ji],Zi=Vi[0]^Qi[0],$i=Vi[Ji?3:1]^Qi[1],es=Vi[2]^Qi[2],ns=Vi[Ji?1:3]^Qi[3],ss=Qi.length/4-2,ds=void 0,ls=4,us=[0,0,0,0],ps=this._tables[Ji],hs=ps[0],fs=ps[1],gs=ps[2],ms=ps[3],ys=ps[4];for(ds=0;ds<ss;ds++)as=hs[Zi>>>24]^fs[255&$i>>16]^gs[255&es>>8]^ms[255&ns]^Qi[ls],os=hs[$i>>>24]^fs[255&es>>16]^gs[255&ns>>8]^ms[255&Zi]^Qi[ls+1],is=hs[es>>>24]^fs[255&ns>>16]^gs[255&Zi>>8]^ms[255&$i]^Qi[ls+2],ns=hs[ns>>>24]^fs[255&Zi>>16]^gs[255&$i>>8]^ms[255&es]^Qi[ls+3],ls+=4,Zi=as,$i=os,es=is;for(ds=0;4>ds;ds++)us[Ji?3&-ds:ds]=ys[Zi>>>24]<<24^ys[255&$i>>16]<<16^ys[255&es>>8]<<8^ys[255&ns]^Qi[ls++],as=Zi,Zi=$i,$i=es,es=ns,ns=as;return us}}]),Gi}();Pa.prototype._tables=[[[],[],[],[],[]],[[],[],[],[],[]]];function Oa(Gi){var Xi=void 0,Vi,Ji=void 0,Qi=[2479122403,2108737444,3518906241,22203222];for(Ji=65536;Ji--;)for(Vi=0;Vi<Gi.length;Vi+=16){var Zi=[0,0,0,0];for(Xi=0;16>Xi;Xi+=4)Xi+Vi<Gi.length&&(Zi[Xi/4]=Gi.readInt32BE(Xi+Vi,!0));Qi=new Pa(Zi).encrypt(Qi)}var $i=new H(16);for(Xi=0;4>Xi;Xi++)$i.writeInt32BE(Qi[Xi],4*Xi,!0);return $i}var Ta=function(){function Gi(Xi){Ia(this,Gi);for(var Vi=[],Ji=0;4>Ji;Ji++)Vi[Ji]=Xi.readInt32BE(4*Ji);this.aes=new Pa(Vi)}return xa(Gi,[{key:'encryptCBC',value:function(Vi){var Zi,Ji=[0,0,0,0],Qi=[,,,,],$i=void 0;for(Zi=0;Zi<Vi.length;Zi+=16){for($i=0;4>$i;$i++)Qi[$i]=Vi.readUInt32BE(Zi+4*$i,!1)^Ji[$i];for(Ji=this.aes.encrypt(Qi),$i=0;4>$i;$i++)Vi.writeInt32BE(Ji[$i],Zi+4*$i,!1)}}},{key:'decryptCBC',value:function(Vi){var $i,Ji=[0,0,0,0],Qi=[,,,,],Zi=[,,,,],es=void 0;for($i=0;$i<Vi.length;$i+=16){for(es=0;4>es;es++)Qi[es]=Vi.readUInt32BE($i+4*es,!1);for(Zi=Qi,Qi=this.aes.decrypt(Qi),es=0;4>es;es++)Vi.writeInt32BE(Qi[es]^Ji[es],$i+4*es,!1);Ji=Zi}}},{key:'stringhash',value:function(Vi){for(var Ji=[0,0,0,0],Qi=0;Qi<Vi.length;Qi+=4)Ji[3&Qi/4]^=Vi.readInt32BE(Qi,!0);for(var Zi=16384;Zi--;)Ji=this.aes.encrypt(Ji);var $i=new H(8);return $i.writeInt32BE(Ji[0],0,!0),$i.writeInt32BE(Ji[2],4,!0),$i}},{key:'encryptECB',value:function(Vi){for(var Ji=[],Qi=0;Qi<Vi.length;Qi+=16)Ji[0]=Vi.readInt32BE(Qi,!1),Ji[1]=Vi.readInt32BE(Qi+4,!1),Ji[2]=Vi.readInt32BE(Qi+8,!1),Ji[3]=Vi.readInt32BE(Qi+12,!1),Ji=this.aes.encrypt(Ji),Vi.writeInt32BE(Ji[0],Qi,!1),Vi.writeInt32BE(Ji[1],Qi+4,!1),Vi.writeInt32BE(Ji[2],Qi+8,!1),Vi.writeInt32BE(Ji[3],Qi+12,!1);return Vi}},{key:'decryptECB',value:function(Vi){for(var Ji=[],Qi=0;Qi<Vi.length;Qi+=16)Ji[0]=Vi.readInt32BE(Qi,!1),Ji[1]=Vi.readInt32BE(Qi+4,!1),Ji[2]=Vi.readInt32BE(Qi+8,!1),Ji[3]=Vi.readInt32BE(Qi+12,!1),Ji=this.aes.decrypt(Ji),Vi.writeInt32BE(Ji[0],Qi,!1),Vi.writeInt32BE(Ji[1],Qi+4,!1),Vi.writeInt32BE(Ji[2],Qi+8,!1),Vi.writeInt32BE(Ji[3],Qi+12,!1);return Vi}}]),Gi}(),ja=function(){function Gi(Xi,Vi){var Ji=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;Ia(this,Gi),this.aes=Xi.aes,this.nonce=[Vi.readInt32BE(0),Vi.readInt32BE(4)],this.increment=131072,this.posNext=Ji+this.increment,this.pos=Ji,this.ctr=[this.nonce[0],this.nonce[1],0,0],this.mac=[this.ctr[0],this.ctr[1],this.ctr[0],this.ctr[1]],this.macs=[],0!==Ji&&this.incrementCTRBuffer(Ji/16)}return xa(Gi,[{key:'condensedMac',value:function(){this.mac&&(this.macs.push(this.mac),this.mac=void 0);for(var Vi=[0,0,0,0],Ji=0;Ji<this.macs.length;Ji++){for(var Qi=0;4>Qi;Qi++)Vi[Qi]^=this.macs[Ji][Qi];Vi=this.aes.encrypt(Vi)}var Zi=new H(8);return Zi.writeInt32BE(Vi[0]^Vi[1],0),Zi.writeInt32BE(Vi[2]^Vi[3],4),Zi}},{key:'encrypt',value:function(Vi){for(var Qi,Ji=0;Ji<Vi.length;Ji+=16){Qi=[],Qi[0]=Vi.readInt32BE(Ji,!0),Qi[1]=Vi.readInt32BE(Ji+4,!0),Qi[2]=Vi.readInt32BE(Ji+8,!0),Qi[3]=Vi.readInt32BE(Ji+12,!0),this.mac[0]^=Qi[0],this.mac[1]^=Qi[1],this.mac[2]^=Qi[2],this.mac[3]^=Qi[3],this.mac=this.aes.encrypt(this.mac);var Zi=this.aes.encrypt(this.ctr);Vi.writeInt32BE(Qi[0]^Zi[0],Ji,!0),Vi.writeInt32BE(Qi[1]^Zi[1],Ji+4,!0),Vi.writeInt32BE(Qi[2]^Zi[2],Ji+8,!0),Vi.writeInt32BE(Qi[3]^Zi[3],Ji+12,!0),this.incrementCTR()}}},{key:'decrypt',value:function(Vi){for(var Ji=0;Ji<Vi.length;Ji+=16){var Qi=[],Zi=this.aes.encrypt(this.ctr);Qi[0]=Vi.readInt32BE(Ji,!0)^Zi[0],Qi[1]=Vi.readInt32BE(Ji+4,!0)^Zi[1],Qi[2]=Vi.readInt32BE(Ji+8,!0)^Zi[2],Qi[3]=Vi.readInt32BE(Ji+12,!0)^Zi[3],Vi.writeInt32BE(Qi[0],Ji,!0),Vi.writeInt32BE(Qi[1],Ji+4,!0),Vi.writeInt32BE(Qi[2],Ji+8,!0),Vi.writeInt32BE(Qi[3],Ji+12,!0),this.mac[0]^=Vi.readInt32BE(Ji,!0),this.mac[1]^=Vi.readInt32BE(Ji+4,!0),this.mac[2]^=Vi.readInt32BE(Ji+8,!0),this.mac[3]^=Vi.readInt32BE(Ji+12,!0),this.mac=this.aes.encrypt(this.mac),this.incrementCTR()}}},{key:'incrementCTR',value:function(){++this.ctr[3]||this.ctr[2]++,this.pos+=16,this.pos>=this.posNext&&(this.macs.push(this.mac),this.ctr[2]=this.pos/68719476736>>>0,this.ctr[3]=this.pos/16>>>0,this.mac=[this.ctr[0],this.ctr[1],this.ctr[0],this.ctr[1]],1048576>this.increment&&(this.increment+=131072),this.posNext+=this.increment)}},{key:'incrementCTRBuffer',value:function(Vi){for(var Ji=0;Ji<Vi;Ji++)this.incrementCTR()}}]),Gi}();function qa(Gi){return'string'==typeof Gi?Ma(Gi):Gi}function Da(Gi){return Gi.toString('base64').replace(/\+/g,'-').replace(/\//g,'_').replace(/=/g,'')}function Ma(Gi){return Gi+='=='.substr(3&2-3*Gi.length),Gi=Gi.replace(/-/g,'+').replace(/_/g,'/').replace(/,/g,''),new H(Gi,'base64')}function Ua(Gi){for(var Xi=new H(16),Vi=0;16>Vi;Vi++)Xi.writeUInt8(Gi.readUInt8(Vi)^Gi.readUInt8(Vi+16,!0),Vi);return new Ta(Xi)}function za(Gi){var Ji=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Qi=Ji.start||0;if(0!==Qi)throw Error('Encryption cannot start midstream otherwise MAC verification will fail.');Gi=qa(Gi),Gi||(Gi=va(24)),Gi instanceof H||(Gi=new H(Gi));var Zi=pa(function(ns){es.encrypt(ns),this.emit('data',ns)},function(){var ns=es.condensedMac(),as=new H(32);Gi.copy(as),ns.copy(as,24);for(var os=0;16>os;os++)as.writeUInt8(as.readUInt8(os)^as.readUInt8(16+os),os);Zi.key=as,this.emit('end')});if(24!==Gi.length)return it(function(){Zi.emit('error',Error('Wrong key length. Key must be 192bit.'))});var $i=new Ta(Gi.slice(0,16)),es=new ja($i,Gi.slice(16),Qi);return Zi=ya(wa(16),Zi),Zi}function Ya(Gi){var Ji=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},Qi=Ji.start||0;if(0!=Qi%16)throw Error('start argument of megaDecrypt must be a multiple of 16');Gi=qa(Gi);var Zi=pa(function(ns){es.decrypt(ns),this.emit('data',ns)},function(){var ns=es.condensedMac();return ns.equals(Gi.slice(24))||Ji.disableVerification?void this.emit('end'):this.emit('error',Error('MAC verification failed'))}),$i=Ua(Gi),es=new ja($i,Gi.slice(16),Qi);return ya(wa(16),Zi)}function Na(Gi,Xi){if(Gi.length!==Xi.length)return!1;for(var Vi=Gi.length,Ji=0,Qi=0;Qi<Vi;Qi++)Ji|=Gi[Qi]^Xi[Qi];return 0==Ji}var Fa={},Wa=28,Ka=1<<Wa,Ha=Ka-1,Ga=Wa>>1,Xa=(1<<Ga)-1,Va=0.6931471805599453;function Ja(Gi){for(var Xi=[];0<Gi--;)Xi[Gi]=0;return Xi}function Qa(Gi){var Xi=Gi.length;if(Gi[Xi-1])return Gi;for(;1<Xi&&0===Gi[Xi-1];)Xi--;return Gi.slice(0,Xi)}function Za(Gi){var Vi,Xi=1;return 0!=(Vi=Gi>>>16)&&(Gi=Vi,Xi+=16),0!=(Vi=Gi>>8)&&(Gi=Vi,Xi+=8),0!=(Vi=Gi>>4)&&(Gi=Vi,Xi+=4),0!=(Vi=Gi>>2)&&(Gi=Vi,Xi+=2),0!=(Vi=Gi>>1)&&(Gi=Vi,Xi+=1),Xi}function $a(Gi,Xi){var Vi=Gi.length,Ji=Xi.length;if(Vi<Ji)return $a(Xi,Gi);for(var Qi=[],Zi=0,$i=0;$i<Ji;$i++)Zi+=Gi[$i]+Xi[$i],Qi[$i]=Zi&Ha,Zi>>>=Wa;for(;$i<Vi;$i++)Zi+=Gi[$i],Qi[$i]=Zi&Ha,Zi>>>=Wa;return Zi&&(Qi[$i]=Zi),Qi}function eo(Gi,Xi){var Vi=Gi.length,Ji=Xi.length;if(Ji>Vi)return[];if(Ji===Vi){if(Xi[Ji-1]>Gi[Ji-1])return[];if(1===Ji)return[Gi[0]-Xi[0]]}var Qi=[],Zi=0,$i=void 0;for($i=0;$i<Ji;$i++)Zi+=Gi[$i]-Xi[$i],Qi[$i]=Zi&Ha,Zi>>=Wa;for(;$i<Vi;$i++)Zi+=Gi[$i],Qi[$i]=Zi&Ha,Zi>>=Wa;return Zi?[]:Qa(Qi)}function to(Gi,Xi,Vi,Ji,Qi){var Zi=Vi&Xa,$i=Vi>>Ga,es=Ji&Xa,ns=Ji>>Ga,as=$i*es+ns*Zi,os=Zi*es+((as&Xa)<<Ga)+Gi[Xi]+Qi;return Gi[Xi]=os&Ha,Qi=$i*ns+(as>>Ga)+(os>>Wa),Qi}function no(Gi){var Xi=Gi.length,Ji=Ja(2*Xi),Qi=0,Zi=void 0,$i=void 0;for(Zi=0;Zi<Xi;Zi++){for(Qi=to(Ji,2*Zi,Gi[Zi],Gi[Zi],0),$i=Zi+1;$i<Xi;$i++)Qi=to(Ji,Zi+$i,2*Gi[$i],Gi[Zi],Qi);Ji[Zi+Xi]=Qi}return Qa(Ji)}function ro(Gi,Xi){var Vi=Gi.length,Ji=Xi.length,Qi=Ja(Vi+Ji-1),Zi,$i=void 0,es=void 0;for($i=0;$i<Ji;$i++){for(Zi=0,es=0;es<Vi;es++)Zi=to(Qi,$i+es,Gi[es],Xi[$i],Zi);Qi[$i+Vi]=Zi}return Qa(Qi)}function ao(Gi,Xi,Vi){for(var Ji=0;0<=Xi&&0<Vi--;)Ji=Ji*Ka+Gi[Xi--];return Ji}function oo(Gi,Xi){var Zi,$i,ns,Vi=Gi.length-1,Ji=Xi.length-1,Qi=Vi-Ji,es=void 0;if(Vi<Ji||Vi==Ji&&(Gi[Vi]<Xi[Vi]||0<Vi&&Gi[Vi]===Xi[Vi]&&Gi[Vi-1]<Xi[Vi-1]))return Fa.q=[0],Fa.mod=Gi,Fa;if(Vi==Ji&&4>ao(Gi,Ji,2)/ao(Xi,Ji,2)){for(Zi=Gi.concat(),es=0,ns;;){if(ns=eo(Zi,Xi),0===ns.length)break;Zi=ns,es++}return Fa.q=[es],Fa.mod=Zi,Fa}var as=_Mathfloor(_Mathlog(Xi[Ji])/Va)+1,os=Wa-as;if(Zi=Gi.concat(),$i=Xi.concat(),os){for(is=Ji;0<is;is--)$i[is]=$i[is]<<os&Ha|$i[is-1]>>as;for($i[0]=$i[0]<<os&Ha,Zi[Vi]&(Ha<<as&Ha)&&(Zi[++Vi]=0,Qi++),is=Vi;0<is;is--)Zi[is]=Zi[is]<<os&Ha|Zi[is-1]>>as;Zi[0]=Zi[0]<<os&Ha}for(var ss,is=void 0,ds=Ja(Qi+1),ls=Ja(Qi).concat($i);;){if(ss=eo(Zi,ls),0===ss.length)break;ds[Qi]++,Zi=ss}var hs,us=$i[Ji],ps=ao($i,Ji,2);for(is=Vi;is>Ji;is--){hs=is-Ji-1,ds[hs]=is>=Zi.length?1:Zi[is]===us?Ha:_Mathfloor(ao(Zi,is,2)/us);for(var fs=ao(Zi,is,3);ds[hs]*ps>fs;)ds[hs]--;ls=ls.slice(1),ss=eo(Zi,ro([ds[hs]],ls)),0===ss.length&&(ds[hs]--,ss=eo(Zi,ro([ds[hs]],ls))),Zi=ss}if(os){for(is=0;is<Zi.length-1;is++)Zi[is]=Zi[is]>>os|Zi[is+1]<<as&Ha;Zi[Zi.length-1]>>=os}return Fa.q=Qa(ds),Fa.mod=Qa(Zi),Fa}function io(Gi,Xi){for(var Vi=0,Ji=void 0,Qi=Gi.length-1;0<=Qi;Qi--)Ji=Gi[Qi],Vi=((Ji>>Ga)+(Vi<<Ga))%Xi,Vi=((Ji&Xa)+(Vi<<Ga))%Xi;return Vi}function so(Gi,Xi){if(1===Xi.length){if(1===Gi.length)return[Gi[0]%Xi[0]];if(Xi[0]<Xa)return[io(Gi,Xi[0])]}var Vi=oo(Gi,Xi);return Vi.mod}function uo(Gi,Xi,Vi){var Ji=Gi.length-(Xi.length<<1);if(0<Ji)return uo(Gi.slice(0,Ji).concat(uo(Gi.slice(Ji),Xi,Vi)),Xi,Vi);var Qi=Xi.length+1,Zi=Xi.length-1,$i,es=ro(Gi.slice(Zi),Vi).slice(Qi),ns=Gi.slice(0,Qi),as=ro(es,Xi).slice(0,Qi),os=eo(ns,as);0===os.length&&(ns[Qi]=1,os=eo(ns,as));for(var is=0;;is++){if($i=eo(os,Xi),0===$i.length)break;if(os=$i,3<=is)return uo(os,Xi,Vi)}return os}function po(Gi,Xi,Vi){var Ji=Gi.concat(),Qi=Xi.length-1,Zi=2*Vi.length,$i=Ja(Zi+1);for($i[Zi]=1,$i=oo($i,Vi).q,Zi=Za(Xi[Qi])-2;0<=Qi;Qi--){for(;0<=Zi;Zi-=1)Ji=uo(no(Ji),Vi,$i),Xi[Qi]&1<<Zi&&(Ji=uo(ro(Ji,Gi),Vi,$i));Zi=Wa-1}return Ji}function ho(Gi,Xi,Vi,Ji,Qi){var Zi=po(so(Gi,Vi),so(Xi,eo(Vi,[1])),Vi),$i=po(so(Gi,Ji),so(Xi,eo(Ji,[1])),Ji),es=eo($i,Zi);return 0===es.length?(es=eo(Zi,$i),es=so(ro(es,Qi),Ji),es=eo(Ji,es)):es=so(ro(es,Qi),Ji),$a(ro(es,Vi),Zi)}function co(Gi){var Xi=1,Vi=[0],Ji=0,Qi=256,Zi=Gi.length,$i;if(2>Zi)return 0;var es=8*(Zi-2),ns=256*Gi.charCodeAt(0)+Gi.charCodeAt(1);if(ns>es||ns<es-8)return 0;for(var as=0;as<es;as++)255<(Qi<<=1)&&(Qi=1,$i=Gi.charCodeAt(--Zi)),Xi>Ha&&(Xi=1,Vi[++Ji]=0),$i&Qi&&(Vi[Ji]|=Xi),Xi<<=1;return Vi}function fo(Gi){var Xi=1,Vi=0,Ji=[0],Qi=1,Zi=0,$i=Gi.length*Wa,es='',ns=void 0;for(ns=0;ns<$i;ns++)Gi[Vi]&Xi&&(Ji[Zi]|=Qi),255<(Qi<<=1)&&(Qi=1,Ji[++Zi]=0),(Xi<<=1)>Ha&&(Xi=1,Vi++);for(;0<=Zi&&0===Ji[Zi];)Zi--;for(ns=0;ns<=Zi;ns++)es=_StringfromCharCode(Ji[ns])+es;return es}function go(Gi){for(var Ji,Xi=[],Vi=0;4>Vi;Vi++){if(Ji=(256*Gi[0]+Gi[1]+7>>3)+2,Xi[Vi]=co(Gi.toString('binary').substr(0,Ji)),'number'==typeof Xi[Vi]){if(4!==Vi||16<=Gi.length)return!1;break}Gi=Gi.slice(Ji)}return Xi}function mo(Gi,Xi){var Vi=co(Gi.toString('binary')),Ji=fo(ho(Vi,Xi[2],Xi[0],Xi[1],Xi[3]));return new H(Ji,'binary')}var yo='undefined'==typeof window?self:window;wo.log={trace:So,debug:So,info:So,warn:So,error:So};var bo=180000;function wo(Gi,Xi){if(!Gi)throw Error('No options given');var Vi=Gi.onResponse;if(Gi='string'==typeof Gi?{uri:Gi}:JSON.parse(JSON.stringify(Gi)),Gi.onResponse=Vi,Gi.verbose&&(wo.log=Io()),Gi.url&&(Gi.uri=Gi.url,delete Gi.url),!Gi.uri&&''!==Gi.uri)throw Error('options.uri is a required argument');if('string'!=typeof Gi.uri)throw Error('options.uri must be a string');for(var Ji=['proxy','_redirectsFollowed','maxRedirects','followRedirect'],Qi=0;Qi<Ji.length;Qi++)if(Gi[Ji[Qi]])throw Error('options.'+Ji[Qi]+' is not supported');if(Gi.callback=Xi||So,Gi.method=Gi.method||'GET',Gi.headers=Gi.headers||{},Gi.body=Gi.body||null,Gi.timeout=Gi.timeout||wo.DEFAULT_TIMEOUT,Gi.headers.host)throw Error('Options.headers.host is not supported');Gi.json&&(Gi.headers.accept=Gi.headers.accept||'application/json','GET'!==Gi.method&&(Gi.headers['content-type']='application/json'),'boolean'==typeof Gi.json?'string'!=typeof Gi.body&&(Gi.body=JSON.stringify(Gi.body)):Gi.body=JSON.stringify(Gi.json));var Zi=function(is){var ss=[];for(var ds in is)is.hasOwnProperty(ds)&&ss.push(encodeURIComponent(ds)+'='+encodeURIComponent(is[ds]));return ss.join('&')};if(Gi.qs){var $i='string'==typeof Gi.qs?Gi.qs:Zi(Gi.qs);Gi.uri=-1===Gi.uri.indexOf('?')?Gi.uri+'?'+$i:Gi.uri+'&'+$i}var es=function(is){var ss={boundry:'-------------------------------'+_Mathfloor(1e9*Math.random())},ds=[];for(var ls in is)is.hasOwnProperty(ls)&&ds.push('--'+ss.boundry+'\nContent-Disposition: form-data; name="'+ls+'"\n\n'+is[ls]+'\n');return ds.push('--'+ss.boundry+'--'),ss.body=ds.join(''),ss.length=ss.body.length,ss.type='multipart/form-data; boundary='+ss.boundry,ss};if(Gi.form){if('string'==typeof Gi.form)throw Error('form name unsupported');if('POST'===Gi.method){var ns=(Gi.encoding||'application/x-www-form-urlencoded').toLowerCase();switch(Gi.headers['content-type']=ns,ns){case'application/x-www-form-urlencoded':Gi.body=Zi(Gi.form).replace(/%20/g,'+');break;case'multipart/form-data':var as=es(Gi.form);Gi.body=as.body,Gi.headers['content-type']=as.type;break;default:throw Error('unsupported encoding:'+ns);}}}return Gi.onResponse=Gi.onResponse||So,!0===Gi.onResponse&&(Gi.onResponse=Xi,Gi.callback=So),!Gi.headers.authorization&&Gi.auth&&(Gi.headers.authorization='Basic '+H.from(Gi.auth.username+':'+Gi.auth.password,'utf-8').toString('base64')),'function'!=typeof fetch||'function'!=typeof ReadableStream&&yo.XMLHttpRequest?Eo(Gi):ko(Gi)}var _o=0;function Eo(Gi){function Ji(){if(!ss.response){if(ss.response=!0,wo.log.debug('Got response',{id:$i.id,status:$i.status}),clearTimeout($i.timeoutTimer),$i.statusCode=$i.status,es&&0===$i.statusCode){var ls=new Error('CORS request rejected: '+Gi.uri);return ls.cors='rejected',ss.loading=!0,ss.end=!0,ds.emit('error',ls),Gi.callback(ls,$i)}Gi.onResponse(null,$i)}}function Qi(){if($i.response){var ls=$i.responseText.substr(os);os+=ls.length,0<ls.length&&ds.push(new H(ls,'ascii'))}ss.loading||(ss.loading=!0,wo.log.debug('Response body loading',{id:$i.id}))}function Zi(){if(!ss.end){if(ss.end=!0,wo.log.debug('Request done',{id:$i.id}),ds.push(null),$i.body=$i.responseText,Gi.json)try{$i.body=JSON.parse($i.responseText)}catch(ls){return ds.emit('error',ls),Gi.callback(ls,$i)}Gi.callback(null,$i,$i.body)}}var $i=new yo.XMLHttpRequest,es=Ro(Gi.uri),as=!1,os=0;if(_o+=1,$i.seq_id=_o,$i.id=_o+': '+Gi.method+' '+Gi.uri,$i._id=$i.id,es&&!('withCredentials'in $i)){var is=new Error('Browser does not support cross-origin request: '+Gi.uri);return is.cors='unsupported',Gi.callback(is,$i)}$i.timeoutTimer=setTimeout(function(){as=!0;var ls=new Error('ETIMEDOUT');return ls.code='ETIMEDOUT',ls.duration=Gi.timeout,wo.log.error('Timeout',{id:$i._id,milliseconds:Gi.timeout}),Gi.callback(ls,$i)},Gi.timeout);var ss={response:!1,loading:!1,end:!1};$i.overrideMimeType('text/plain; charset=x-user-defined'),$i.onreadystatechange=function(){if(as)return wo.log.debug('Ignoring timed out state change',{state:$i.readyState,id:$i.id});if(wo.log.debug('State change',{state:$i.readyState,id:$i.id,timedOut:as}),$i.readyState===yo.XMLHttpRequest.OPENED)for(var us in wo.log.debug('Request started',{id:$i.id}),Gi.headers)$i.setRequestHeader(us,Gi.headers[us]);else $i.readyState===yo.XMLHttpRequest.HEADERS_RECEIVED?Ji():$i.readyState===yo.XMLHttpRequest.LOADING?(Ji(),Qi()):$i.readyState===yo.XMLHttpRequest.DONE&&(Ji(),Qi(),Zi())},$i.open(Gi.method,Gi.uri,!0),es&&($i.withCredentials=!!Gi.withCredentials),$i.send(Gi.body);var ds=new la.Readable;return ds._read=So,ds}function ko(Gi){var Xi={};_o+=1,Xi.seq_id=_o,Xi.id=_o+': '+Gi.method+' '+Gi.uri,Xi._id=Xi.id,_o+=1;var Vi={};Gi.headers&&(Vi.headers=Gi.headers),Gi.method&&(Vi.method=Gi.method),Gi.body&&(Vi.body=Gi.body);var Ji=new la.Readable;return Ji._read=So,yo.fetch(Gi.uri||Gi.url,Vi).then(function(Qi){function Zi(){$i.read().then(function(es){es.done?Ji.push(null):(Ji.push(new H(es.value)),Zi())})}Xi.statusCode=Xi.status=Qi.status,Ji.emit('response',{statusCode:Qi.status,statusMessage:Qi.statusText,headers:Array.from(Qi.headers).reduce(function(es,ns){var as=La(ns,2),os=as[0],is=as[1];return es[os]=is,es},{})}),Gi.callback&&Qi.clone()[Gi.json?'json':'text']().then(function(es){return Gi.callback(null,Xi,es)}).catch(function(es){return Gi.callback(es)});var $i=Qi.body.getReader();Zi()},function(Qi){Ji.emit('error',Qi),Gi.callback(Qi)}),Ji}wo.withCredentials=!1,wo.DEFAULT_TIMEOUT=bo,wo.defaults=function(Gi){var Vi=function(Zi){return function(ns,as){for(var os in ns='string'==typeof ns?{uri:ns}:JSON.parse(JSON.stringify(ns)),Gi)void 0===ns[os]&&(ns[os]=Gi[os]);return Zi(ns,as)}},Ji=Vi(wo);return Ji.get=Vi(wo.get),Ji.post=Vi(wo.post),Ji.put=Vi(wo.put),Ji.head=Vi(wo.head),Ji};var vo=['get','put','post','head'];vo.forEach(function(Gi){var Xi=Gi.toUpperCase(),Vi=Gi.toLowerCase();wo[Vi]=function(Ji){'string'==typeof Ji?Ji={method:Xi,uri:Ji}:(Ji=JSON.parse(JSON.stringify(Ji)),Ji.method=Xi);var Qi=[Ji].concat(Array.prototype.slice.apply(arguments,[1]));return wo.apply(this,Qi)}});function So(){}function Io(){var Gi={},Xi=['trace','debug','info','warn','error'],Vi,Ji=void 0;for(Ji=0;Ji<Xi.length;Ji++)Vi=Xi[Ji],Gi[Vi]=So,'undefined'!=typeof console&&console&&console[Vi]&&(Gi[Vi]=xo(console,Vi));return Gi}function xo(Gi,Xi){return function(Ji,Qi){return'object'===('undefined'==typeof Qi?'undefined':Sa(Qi))&&(Ji+=' '+JSON.stringify(Qi)),Gi[Xi](Ji)}}function Ro(Gi){var Xi=/^([\w+.-]+:)(?:\/\/([^/?#:]*)(?::(\d+))?)?/,Vi;try{Vi=yo.location.href}catch($i){Vi=document.createElement('a'),Vi.href='',Vi=Vi.href}var Ji=Xi.exec(Vi.toLowerCase())||[],Qi=Xi.exec(Gi.toLowerCase()),Zi=!!(Qi&&(Qi[1]!==Ji[1]||Qi[2]!==Ji[2]||(Qi[3]||('http:'===Qi[1]?80:443))!==(Ji[3]||('http:'===Ji[1]?80:443))));return Zi}function Ao(Gi,Xi){return Object.prototype.hasOwnProperty.call(Gi,Xi)}var Co=Array.isArray||function(Gi){return'[object Array]'===Object.prototype.toString.call(Gi)};function Bo(Gi){switch(typeof Gi){case'string':return Gi;case'boolean':return Gi?'true':'false';case'number':return isFinite(Gi)?Gi:'';default:return'';}}function Lo(Gi,Xi,Vi,Ji){return Xi=Xi||'&',Vi=Vi||'=',null===Gi&&(Gi=void 0),'object'==typeof Gi?Po(Oo(Gi),function(Qi){var Zi=encodeURIComponent(Bo(Qi))+Vi;return Co(Gi[Qi])?Po(Gi[Qi],function($i){return Zi+encodeURIComponent(Bo($i))}).join(Xi):Zi+encodeURIComponent(Bo(Gi[Qi]))}).join(Xi):Ji?encodeURIComponent(Bo(Ji))+Vi+encodeURIComponent(Bo(Gi)):''}function Po(Gi,Xi){if(Gi.map)return Gi.map(Xi);for(var Vi=[],Ji=0;Ji<Gi.length;Ji++)Vi.push(Xi(Gi[Ji],Ji));return Vi}var Oo=Object.keys||function(Gi){var Xi=[];for(var Vi in Gi)Object.prototype.hasOwnProperty.call(Gi,Vi)&&Xi.push(Vi);return Xi};function To(Gi,Xi,Vi,Ji){Xi=Xi||'&',Vi=Vi||'=';var Qi={};if('string'!=typeof Gi||0===Gi.length)return Qi;var Zi=/\+/g;Gi=Gi.split(Xi);var $i=1e3;Ji&&'number'==typeof Ji.maxKeys&&($i=Ji.maxKeys);var es=Gi.length;0<$i&&es>$i&&(es=$i);for(var ns=0;ns<es;++ns){var is,ss,ds,ls,as=Gi[ns].replace(Zi,'%20'),os=as.indexOf(Vi);0<=os?(is=as.substr(0,os),ss=as.substr(os+1)):(is=as,ss=''),ds=decodeURIComponent(is),ls=decodeURIComponent(ss),Ao(Qi,ds)?Co(Qi[ds])?Qi[ds].push(ls):Qi[ds]=[Qi[ds],ls]:Qi[ds]=ls}return Qi}var jo={encode:Lo,stringify:Lo,decode:To,parse:To},qo=4,Do={1:'EINTERNAL (-1): An internal error has occurred. Please submit a bug report, detailing the exact circumstances in which this error occurred.',2:'EARGS (-2): You have passed invalid arguments to this command.',3:'EAGAIN (-3): A temporary congestion or server malfunction prevented your request from being processed. No data was altered. Retried '+qo+' times.',4:'ERATELIMIT (-4): You have exceeded your command weight per time quota. Please wait a few seconds, then try again (this should never happen in sane real-life applications).',5:'EFAILED (-5): The upload failed. Please restart it from scratch.',6:'ETOOMANY (-6): Too many concurrent IP addresses are accessing this upload target URL.',7:'ERANGE (-7): The upload file packet is out of range or not starting and ending on a chunk boundary.',8:'EEXPIRED (-8): The upload target URL you are trying to access has expired. Please request a fresh one.',9:'ENOENT (-9): Object (typically, node or user) not found. Wrong password?',10:'ECIRCULAR (-10): Circular linkage attempted',11:'EACCESS (-11): Access violation (e.g., trying to write to a read-only share)',12:'EEXIST (-12): Trying to create an object that already exists',13:'EINCOMPLETE (-13): Trying to access an incomplete resource',14:'EKEY (-14): A decryption operation failed (never returned by the API)',15:'ESID (-15): Invalid or expired user session, please relogin',16:'EBLOCKED (-16): User blocked',17:'EOVERQUOTA (-17): Request over quota',18:'ETEMPUNAVAIL (-18): Resource temporarily not available, please try again later'},Mo='https://eu.api.mega.co.nz/',Uo=function(Gi){function Xi(Vi){Ia(this,Xi);var Ji=Ca(this,(Xi.__proto__||Object.getPrototypeOf(Xi)).call(this));return Ji.keepalive=Vi,Ji.counterId=Math.random().toString().substr(2,10),Ji.gateway=Mo,Ji.requestModule=wo,Ji}return Aa(Xi,Gi),xa(Xi,[{key:'request',value:function(Ji,Qi){var Zi=this,$i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,es={id:(this.counterId++).toString()};this.sid&&(es.sid=this.sid),'object'===Sa(Ji._querystring)&&(Object.assign(es,Ji._querystring),delete Ji._querystring),this.requestModule({uri:this.gateway+'cs',qs:es,method:'POST',json:[Ji],gzip:!0},function(ns,as,os){if(ns)return Qi(ns);if(!os)return Qi(Error('Empty response'));if(os.length&&(os=os[0]),!ns&&'number'==typeof os&&0>os){if(-3===os&&$i<qo)return setTimeout(function(){Zi.request(Ji,Qi,$i+1)},1e3*_Mathpow(2,$i+1));ns=Error(Do[-os])}else Zi.keepalive&&os&&os.sn&&Zi.pull(os.sn);Qi(ns,os)})}},{key:'pull',value:function(Ji){var Qi=this,Zi=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;this.sn=this.requestModule({uri:this.gateway+'sc',qs:{sn:Ji,sid:this.sid},method:'POST',json:!0,body:'sc?'+jo.stringify({sn:Ji})},function($i,es,ns){if(Qi.sn=void 0,!$i&&'number'==typeof ns&&0>ns){if(-3===ns&&Zi<qo)return setTimeout(function(){Qi.pull(Ji,Zi+1)},1e3*_Mathpow(2,Zi+1));$i=Error(Do[-ns])}if($i)throw $i;ns.w?Qi.wait(ns.w,Ji):ns.sn&&(ns.a&&Qi.emit('sc',ns.a),Qi.pull(ns.sn))})}},{key:'wait',value:function(Ji,Qi){var Zi=this;this.sn=this.requestModule({uri:Ji,method:'POST'},function($i){if(Zi.sn=void 0,$i)throw Error('mega server wait req failed');Zi.pull(Qi)})}},{key:'close',value:function(){this.sn&&this.sn.abort()}}]),Xi}(Mt),zo=S(function(Gi){function Xi(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}var Vi=la.Stream;Gi.exports=Xi,Kn.inherits(Xi,Vi),Xi.create=function(Qi,Zi){var $i=new this;for(var es in Zi=Zi||{},Zi)$i[es]=Zi[es];$i.source=Qi;var ns=Qi.emit;return Qi.emit=function(){return $i._handleEmit(arguments),ns.apply(Qi,arguments)},Qi.on('error',function(){}),$i.pauseStream&&Qi.pause(),$i},Object.defineProperty(Xi.prototype,'readable',{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),Xi.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},Xi.prototype.resume=function(){this._released||this.release(),this.source.resume()},Xi.prototype.pause=function(){this.source.pause()},Xi.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(Qi){this.emit.apply(this,Qi)}.bind(this)),this._bufferedEvents=[]},Xi.prototype.pipe=function(){var Qi=Vi.prototype.pipe.apply(this,arguments);return this.resume(),Qi},Xi.prototype._handleEmit=function(Qi){return this._released?void this.emit.apply(this,Qi):void('data'===Qi[0]&&(this.dataSize+=Qi[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(Qi))},Xi.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var Qi='DelayedStream#maxDataSize of '+this.maxDataSize+' bytes exceeded.';this.emit('error',new Error(Qi))}}}),Yo=zo&&'object'==typeof zo&&'default'in zo?zo['default']:zo,No=S(function(Gi){function Xi(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null}var Ji=la.Stream,Qi=Yo;Gi.exports=Xi,Kn.inherits(Xi,Ji),Xi.create=function(Zi){var $i=new this;for(var es in Zi=Zi||{},Zi)$i[es]=Zi[es];return $i},Xi.isStreamLike=function(Zi){return'function'!=typeof Zi&&'string'!=typeof Zi&&'boolean'!=typeof Zi&&'number'!=typeof Zi&&!Fe(Zi)},Xi.prototype.append=function(Zi){var $i=Xi.isStreamLike(Zi);if($i){if(!(Zi instanceof Qi)){var es=Qi.create(Zi,{maxDataSize:Infinity,pauseStream:this.pauseStreams});Zi.on('data',this._checkDataSize.bind(this)),Zi=es}this._handleErrors(Zi),this.pauseStreams&&Zi.pause()}return this._streams.push(Zi),this},Xi.prototype.pipe=function(Zi,$i){return Ji.prototype.pipe.call(this,Zi,$i),this.resume(),Zi},Xi.prototype._getNext=function(){this._currentStream=null;var Zi=this._streams.shift();if('undefined'==typeof Zi)return void this.end();if('function'!=typeof Zi)return void this._pipeNext(Zi);Zi(function(es){var ns=Xi.isStreamLike(es);ns&&(es.on('data',this._checkDataSize.bind(this)),this._handleErrors(es)),this._pipeNext(es)}.bind(this))},Xi.prototype._pipeNext=function(Zi){this._currentStream=Zi;var $i=Xi.isStreamLike(Zi);if($i)return Zi.on('end',this._getNext.bind(this)),void Zi.pipe(this,{end:!1});this.write(Zi),this._getNext()},Xi.prototype._handleErrors=function(Zi){var $i=this;Zi.on('error',function(es){$i._emitError(es)})},Xi.prototype.write=function(Zi){this.emit('data',Zi)},Xi.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&'function'==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit('pause'))},Xi.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&'function'==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit('resume')},Xi.prototype.end=function(){this._reset(),this.emit('end')},Xi.prototype.destroy=function(){this._reset(),this.emit('close')},Xi.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},Xi.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var Zi='DelayedStream#maxDataSize of '+this.maxDataSize+' bytes exceeded.';this._emitError(new Error(Zi))}},Xi.prototype._updateDataSize=function(){this.dataSize=0;var Zi=this;this._streams.forEach(function($i){$i.dataSize&&(Zi.dataSize+=$i.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},Xi.prototype._emitError=function(Zi){this._reset(),this.emit('error',Zi)}}),Fo=No&&'object'==typeof No&&'default'in No?No['default']:No,Wo=2147483647,Ko=36,Ho=1,Go=26,Xo=38,Vo=700,Jo=72,Qo=128,Zo='-',$o=/[^\x20-\x7E]/,ei=/[\x2E\u3002\uFF0E\uFF61]/g,ti={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},ni=Ko-Ho,ri=_Mathfloor,ai=_StringfromCharCode;function oi(Gi){throw new RangeError(ti[Gi])}function ii(Gi,Xi){for(var Vi=Gi.length,Ji=[];Vi--;)Ji[Vi]=Xi(Gi[Vi]);return Ji}function si(Gi,Xi){var Vi=Gi.split('@'),Ji='';1<Vi.length&&(Ji=Vi[0]+'@',Gi=Vi[1]),Gi=Gi.replace(ei,'.');var Qi=Gi.split('.'),Zi=ii(Qi,Xi).join('.');return Ji+Zi}function di(Gi){for(var Qi,Zi,Xi=[],Vi=0,Ji=Gi.length;Vi<Ji;)Qi=Gi.charCodeAt(Vi++),55296<=Qi&&56319>=Qi&&Vi<Ji?(Zi=Gi.charCodeAt(Vi++),56320==(64512&Zi)?Xi.push(((1023&Qi)<<10)+(1023&Zi)+65536):(Xi.push(Qi),Vi--)):Xi.push(Qi);return Xi}function li(Gi){return ii(Gi,function(Xi){var Vi='';return 65535<Xi&&(Xi-=65536,Vi+=ai(55296|1023&Xi>>>10),Xi=56320|1023&Xi),Vi+=ai(Xi),Vi}).join('')}function ui(Gi){return 10>Gi-48?Gi-22:26>Gi-65?Gi-65:26>Gi-97?Gi-97:Ko}function pi(Gi,Xi){return Gi+22+75*(26>Gi)-((0!=Xi)<<5)}function ci(Gi,Xi,Vi){var Ji=0;for(Gi=Vi?ri(Gi/Vo):Gi>>1,Gi+=ri(Gi/Xi);Gi>ni*Go>>1;Ji+=Ko)Gi=ri(Gi/ni);return ri(Ji+(ni+1)*Gi/(Gi+Xo))}function fi(Gi){var Xi,Vi,Ji,Qi,Zi,$i,es,ns,as,os,is,ds,ls,us,ps,ss=[];for(Gi=di(Gi),ds=Gi.length,Xi=Qo,Vi=0,Zi=Jo,$i=0;$i<ds;++$i)is=Gi[$i],128>is&&ss.push(ai(is));for(Ji=Qi=ss.length,Qi&&ss.push(Zo);Ji<ds;){for(es=Wo,$i=0;$i<ds;++$i)is=Gi[$i],is>=Xi&&is<es&&(es=is);for(ls=Ji+1,es-Xi>ri((Wo-Vi)/ls)&&oi('overflow'),Vi+=(es-Xi)*ls,Xi=es,$i=0;$i<ds;++$i)if(is=Gi[$i],is<Xi&&++Vi>Wo&&oi('overflow'),is==Xi){for(ns=Vi,as=Ko;;as+=Ko){if(os=as<=Zi?Ho:as>=Zi+Go?Go:as-Zi,ns<os)break;ps=ns-os,us=Ko-os,ss.push(ai(pi(os+ps%us,0))),ns=ri(ps/us)}ss.push(ai(pi(ns,0))),Zi=ci(Vi,ls,Ji==Qi),Vi=0,++Ji}++Vi,++Xi}return ss.join('')}function gi(Gi){return si(Gi,function(Xi){return $o.test(Xi)?'xn--'+fi(Xi):Xi})}function mi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var yi=/^([a-z0-9.+-]+:)/i,bi=/:[0-9]*$/,wi=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ei=['<','>','"','`',' ','\r','\n','\t'],ki=['{','}','|','\\','^','`'].concat(Ei),vi=['\''].concat(ki),Si=['%','/','?',';','#'].concat(vi),Ii=['/','?','#'],xi=255,Ri=/^[+a-z0-9A-Z_-]{0,63}$/,Ai=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ci={javascript:!0,'javascript:':!0},Bi={javascript:!0,'javascript:':!0},Li={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,'http:':!0,'https:':!0,'ftp:':!0,'gopher:':!0,'file:':!0};function Pi(Gi,Xi,Vi){if(Gi&&Pn(Gi)&&Gi instanceof mi)return Gi;var Ji=new mi;return Ji.parse(Gi,Xi,Vi),Ji}mi.prototype.parse=function(Gi,Xi,Vi){return Oi(this,Gi,Xi,Vi)};function Oi(Gi,Xi,Vi,Ji){if(!An(Xi))throw new TypeError('Parameter \'url\' must be a string, not '+typeof Xi);var Qi=Xi.indexOf('?'),Zi=-1!==Qi&&Qi<Xi.indexOf('#')?'?':'#',$i=Xi.split(Zi),es=/\\/g;$i[0]=$i[0].replace(es,'/'),Xi=$i.join(Zi);var ns=Xi;if(ns=ns.trim(),!Ji&&1===Xi.split('#').length){var as=wi.exec(ns);if(as)return Gi.path=ns,Gi.href=ns,Gi.pathname=as[1],as[2]?(Gi.search=as[2],Gi.query=Vi?To(Gi.search.substr(1)):Gi.search.substr(1)):Vi&&(Gi.search='',Gi.query={}),Gi}var os=yi.exec(ns);if(os){os=os[0];var is=os.toLowerCase();Gi.protocol=is,ns=ns.substr(os.length)}if(Ji||os||ns.match(/^\/\/[^@\/]+@[^@\/]+/)){var ss='//'===ns.substr(0,2);ss&&!(os&&Bi[os])&&(ns=ns.substr(2),Gi.slashes=!0)}var ds,ls,us,ps;if(!Bi[os]&&(ss||os&&!Li[os])){var hs=-1;for(ds=0;ds<Ii.length;ds++)ls=ns.indexOf(Ii[ds]),-1!==ls&&(-1==hs||ls<hs)&&(hs=ls);var fs,gs;for(gs=-1==hs?ns.lastIndexOf('@'):ns.lastIndexOf('@',hs),-1!==gs&&(fs=ns.slice(0,gs),ns=ns.slice(gs+1),Gi.auth=decodeURIComponent(fs)),hs=-1,ds=0;ds<Si.length;ds++)ls=ns.indexOf(Si[ds]),-1!==ls&&(-1==hs||ls<hs)&&(hs=ls);-1==hs&&(hs=ns.length),Gi.host=ns.slice(0,hs),ns=ns.slice(hs),ji(Gi),Gi.hostname=Gi.hostname||'';var ms='['===Gi.hostname[0]&&']'===Gi.hostname[Gi.hostname.length-1];if(!ms){var ys=Gi.hostname.split(/\./);for(ds=0,us=ys.length;ds<us;ds++){var Es=ys[ds];if(Es&&!Es.match(Ri)){for(var vs='',Ss=0,Is=Es.length;Ss<Is;Ss++)vs+=127<Es.charCodeAt(Ss)?'x':Es[Ss];if(!vs.match(Ri)){var Rs=ys.slice(0,ds),As=ys.slice(ds+1),Cs=Es.match(Ai);Cs&&(Rs.push(Cs[1]),As.unshift(Cs[2])),As.length&&(ns='/'+As.join('.')+ns),Gi.hostname=Rs.join('.');break}}}}Gi.hostname=Gi.hostname.length>xi?'':Gi.hostname.toLowerCase(),ms||(Gi.hostname=gi(Gi.hostname)),ps=Gi.port?':'+Gi.port:'';var Bs=Gi.hostname||'';Gi.host=Bs+ps,Gi.href+=Gi.host,ms&&(Gi.hostname=Gi.hostname.substr(1,Gi.hostname.length-2),'/'!==ns[0]&&(ns='/'+ns))}if(!Ci[is])for(ds=0,us=vi.length;ds<us;ds++){var Ls=vi[ds];if(-1!==ns.indexOf(Ls)){var Ps=encodeURIComponent(Ls);Ps===Ls&&(Ps=escape(Ls)),ns=ns.split(Ls).join(Ps)}}var Os=ns.indexOf('#');-1!==Os&&(Gi.hash=ns.substr(Os),ns=ns.slice(0,Os));var Ts=ns.indexOf('?');if(-1===Ts?Vi&&(Gi.search='',Gi.query={}):(Gi.search=ns.substr(Ts),Gi.query=ns.substr(Ts+1),Vi&&(Gi.query=To(Gi.query)),ns=ns.slice(0,Ts)),ns&&(Gi.pathname=ns),Li[is]&&Gi.hostname&&!Gi.pathname&&(Gi.pathname='/'),Gi.pathname||Gi.search){ps=Gi.pathname||'';var js=Gi.search||'';Gi.path=ps+js}return Gi.href=Ti(Gi),Gi}function Ti(Gi){var Xi=Gi.auth||'';Xi&&(Xi=encodeURIComponent(Xi),Xi=Xi.replace(/%3A/i,':'),Xi+='@');var Vi=Gi.protocol||'',Ji=Gi.pathname||'',Qi=Gi.hash||'',Zi=!1,$i='';Gi.host?Zi=Xi+Gi.host:Gi.hostname&&(Zi=Xi+(-1===Gi.hostname.indexOf(':')?Gi.hostname:'['+this.hostname+']'),Gi.port&&(Zi+=':'+Gi.port)),Gi.query&&Pn(Gi.query)&&Object.keys(Gi.query).length&&($i=Lo(Gi.query));var es=Gi.search||$i&&'?'+$i||'';return Vi&&':'!==Vi.substr(-1)&&(Vi+=':'),Gi.slashes||(!Vi||Li[Vi])&&!1!==Zi?(Zi='//'+(Zi||''),Ji&&'/'!==Ji.charAt(0)&&(Ji='/'+Ji)):!Zi&&(Zi=''),Qi&&'#'!==Qi.charAt(0)&&(Qi='#'+Qi),es&&'?'!==es.charAt(0)&&(es='?'+es),Ji=Ji.replace(/[?#]/g,function(ns){return encodeURIComponent(ns)}),es=es.replace('#','%23'),Vi+Zi+Ji+es+Qi}mi.prototype.format=function(){return Ti(this)},mi.prototype.resolve=function(Gi){return this.resolveObject(Pi(Gi,!1,!0)).format()},mi.prototype.resolveObject=function(Gi){if(An(Gi)){var Xi=new mi;Xi.parse(Gi,!1,!0),Gi=Xi}for(var Zi,Vi=new mi,Ji=Object.keys(this),Qi=0;Qi<Ji.length;Qi++)Zi=Ji[Qi],Vi[Zi]=this[Zi];if(Vi.hash=Gi.hash,''===Gi.href)return Vi.href=Vi.format(),Vi;if(Gi.slashes&&!Gi.protocol){for(var ns,$i=Object.keys(Gi),es=0;es<$i.length;es++)ns=$i[es],'protocol'!==ns&&(Vi[ns]=Gi[ns]);return Li[Vi.protocol]&&Vi.hostname&&!Vi.pathname&&(Vi.path=Vi.pathname='/'),Vi.href=Vi.format(),Vi}var as;if(Gi.protocol&&Gi.protocol!==Vi.protocol){if(!Li[Gi.protocol]){for(var ss,os=Object.keys(Gi),is=0;is<os.length;is++)ss=os[is],Vi[ss]=Gi[ss];return Vi.href=Vi.format(),Vi}if(Vi.protocol=Gi.protocol,!Gi.host&&!Bi[Gi.protocol]){for(as=(Gi.pathname||'').split('/');as.length&&!(Gi.host=as.shift()););Gi.host||(Gi.host=''),Gi.hostname||(Gi.hostname=''),''!==as[0]&&as.unshift(''),2>as.length&&as.unshift(''),Vi.pathname=as.join('/')}else Vi.pathname=Gi.pathname;if(Vi.search=Gi.search,Vi.query=Gi.query,Vi.host=Gi.host||'',Vi.auth=Gi.auth,Vi.hostname=Gi.hostname||Gi.host,Vi.port=Gi.port,Vi.pathname||Vi.search){var ds=Vi.pathname||'',ls=Vi.search||'';Vi.path=ds+ls}return Vi.slashes=Vi.slashes||Gi.slashes,Vi.href=Vi.format(),Vi}var us=Vi.pathname&&'/'===Vi.pathname.charAt(0),ps=Gi.host||Gi.pathname&&'/'===Gi.pathname.charAt(0),hs=ps||us||Vi.host&&Gi.pathname,fs=hs,gs=Vi.pathname&&Vi.pathname.split('/')||[],ms=Vi.protocol&&!Li[Vi.protocol];as=Gi.pathname&&Gi.pathname.split('/')||[],ms&&(Vi.hostname='',Vi.port=null,Vi.host&&(''===gs[0]?gs[0]=Vi.host:gs.unshift(Vi.host)),Vi.host='',Gi.protocol&&(Gi.hostname=null,Gi.port=null,Gi.host&&(''===as[0]?as[0]=Gi.host:as.unshift(Gi.host)),Gi.host=null),hs=hs&&(''===as[0]||''===gs[0]));var ys;if(ps)Vi.host=Gi.host||''===Gi.host?Gi.host:Vi.host,Vi.hostname=Gi.hostname||''===Gi.hostname?Gi.hostname:Vi.hostname,Vi.search=Gi.search,Vi.query=Gi.query,gs=as;else if(as.length)gs||(gs=[]),gs.pop(),gs=gs.concat(as),Vi.search=Gi.search,Vi.query=Gi.query;else if(!xn(Gi.search))return ms&&(Vi.hostname=Vi.host=gs.shift(),ys=Vi.host&&0<Vi.host.indexOf('@')&&Vi.host.split('@'),ys&&(Vi.auth=ys.shift(),Vi.host=Vi.hostname=ys.shift())),Vi.search=Gi.search,Vi.query=Gi.query,In(Vi.pathname)&&In(Vi.search)||(Vi.path=(Vi.pathname?Vi.pathname:'')+(Vi.search?Vi.search:'')),Vi.href=Vi.format(),Vi;if(!gs.length)return Vi.pathname=null,Vi.path=Vi.search?'/'+Vi.search:null,Vi.href=Vi.format(),Vi;for(var Es=gs.slice(-1)[0],vs=(Vi.host||Gi.host||1<gs.length)&&('.'===Es||'..'===Es)||''===Es,Ss=0,Is=gs.length;0<=Is;Is--)Es=gs[Is],'.'===Es?gs.splice(Is,1):'..'===Es?(gs.splice(Is,1),Ss++):Ss&&(gs.splice(Is,1),Ss--);if(!hs&&!fs)for(;Ss--;Ss)gs.unshift('..');hs&&''!==gs[0]&&(!gs[0]||'/'!==gs[0].charAt(0))&&gs.unshift(''),vs&&'/'!==gs.join('/').substr(-1)&&gs.push('');var Rs=''===gs[0]||gs[0]&&'/'===gs[0].charAt(0);return ms&&(Vi.hostname=Vi.host=Rs?'':gs.length?gs.shift():'',ys=Vi.host&&0<Vi.host.indexOf('@')&&Vi.host.split('@'),ys&&(Vi.auth=ys.shift(),Vi.host=Vi.hostname=ys.shift())),hs=hs||Vi.host&&gs.length,hs&&!Rs&&gs.unshift(''),gs.length?Vi.pathname=gs.join('/'):(Vi.pathname=null,Vi.path=null),In(Vi.pathname)&&In(Vi.search)||(Vi.path=(Vi.pathname?Vi.pathname:'')+(Vi.search?Vi.search:'')),Vi.auth=Gi.auth||Vi.auth,Vi.slashes=Vi.slashes||Gi.slashes,Vi.href=Vi.format(),Vi},mi.prototype.parseHost=function(){return ji(this)};function ji(Gi){var Xi=Gi.host,Vi=bi.exec(Xi);Vi&&(Vi=Vi[0],':'!==Vi&&(Gi.port=Vi.substr(1)),Xi=Xi.substr(0,Xi.length-Vi.length)),Xi&&(Gi.hostname=Xi)}var qi=S(function(Gi){function Xi(Zi){return this instanceof Xi?void(this._toSkip=Zi.skip,Qi.call(this,Zi)):new Xi(Zi)}var Qi=la.Transform;Kn.inherits(Xi,Qi),Xi.prototype._transform=function(Zi,$i,es){0==this._toSkip?this.push(Zi):this._toSkip>Zi.length?this._toSkip-=Zi.length:(this._toSkip!==Zi.length&&this.push(Zi.slice(this._toSkip)),this._toSkip=0),es()},Gi.exports=Xi}),Di=qi&&'object'==typeof qi&&'default'in qi?qi['default']:qi,Mi=new Uo(!1),Ui=function(Gi){function Xi(Vi){Ia(this,Xi);var Ji=Ca(this,(Xi.__proto__||Object.getPrototypeOf(Xi)).call(this));return Ji.checkConstructorArgument(Vi.downloadId),Ji.checkConstructorArgument(Vi.key),Ji.checkConstructorArgument(Vi.loadedFile),Ji.downloadId=Vi.downloadId,Ji.key=Vi.key?qa(Vi.key):null,Ji.type=Vi.directory?1:0,Ji.directory=!!Vi.directory,Ji.api=Mi,Ji.loadedFile=Vi.loadedFile,Ji}return Aa(Xi,Gi),xa(Xi,[{key:'checkConstructorArgument',value:function(Ji){if('string'==typeof Ji&&!/^[\w-]+$/.test(Ji))throw Error('Invalid argument: "'+Ji+'"')}},{key:'loadMetadata',value:function(Ji,Qi){if(this.size=Qi.s||0,this.timestamp=Qi.ts||0,this.type=Qi.t,this.directory=!!Qi.t,this.owner=Qi.u,this.name=null,Ji&&Qi.k){var Zi=Qi.k.split(':');this.key=qa(Zi[Zi.length-1]),Ji.decryptECB(this.key),Qi.a&&this.decryptAttributes(Qi.a)}}},{key:'decryptAttributes',value:function(Ji){var Qi=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};Ji=Ma(Ji),Ua(this.key).decryptCBC(Ji);try{Ji=Xi.unpackAttributes(Ji)}catch(Zi){return Qi(Zi)}return this.parseAttributes(Ji),Qi(null,this),this}},{key:'parseAttributes',value:function(Ji){this.attributes=Ji,this.name=Ji.n,this.label=Xi.LABEL_NAMES[Ji.lbl||0],this.favorited=!!Ji.fav}},{key:'loadAttributes',value:function(Ji){var Qi=this;'function'!=typeof Ji&&(Ji=function(es){if(es)throw es});var Zi=this.directory?{a:'f',c:1,ca:1,r:1,_querystring:{n:this.downloadId}}:{a:'g',p:this.downloadId};return this.api.request(Zi,function($i,es){if($i)return Ji($i);if(Qi.directory){var ns={},as=es.f,os=as.find(function(hs){return hs.k&&hs.h===hs.k.split(':')[0]}),is=Qi.key?new Ta(Qi.key):null;Qi.nodeId=os.h,Qi.timestamp=os.ts,ns[os.h]=Qi,as.sort(function(hs,fs){return fs.t-hs.t});var ss=0;do for(var ls,ds=0;ds<as.length;ds++){if(ls=as[ds],ls===os){as.splice(ds,1);continue}var us=ns[ls.p];if(us){as.splice(ds,1),ss=0,us.children||(us.children=[]);var ps=new Xi(ls,Qi.storage);ps.loadMetadata(is,ls),ps.downloadId=[Qi.downloadId,ls.h],us.children.push(ps),ls.parent=us,ns[ls.h]=ps}}while(0<as.length&&3>ss++);Qi.loadMetadata(is,os),Ji(null,Qi.loadedFile?ns[Qi.loadedFile]:Qi)}else Qi.size=es.s,Qi.decryptAttributes(es.at,Ji)}),this}},{key:'download',value:function(Ji,Qi){'function'==typeof Ji&&(Qi=Ji,Ji={}),Ji||(Ji={});var Zi=Ji.start||0,$i=Ji.returnCiphertext?Zi:Zi-Zi%16,es=Ji.end||null,ns=Ji.maxConnections||4,as=Ji.initialChunkSize||131072,os=Ji.chunkSizeIncrement||131072,is=Ji.maxChunkSize||1048576,ss={a:'g',g:1,ssl:2};if(this.nodeId?ss.n=this.nodeId:Array.isArray(this.downloadId)?(ss._querystring={n:this.downloadId[0]},ss.n=this.downloadId[1]):ss.p=this.downloadId,this.directory)throw Error('Can\'t download: folder download isn\'t supported');if(!this.key&&!Ji.returnCiphertext)throw Error('Can\'t download: key isn\'t defined');var ds=this.key&&!Ji.returnCiphertext?Ya(this.key,{start:$i,disableVerification:0!==$i||null!==es}):new da,ls=$i===Zi?ds:ds.pipe(new Di({skip:Zi-$i})),us=this.api||Mi,ps=Ji.requestModule||this.api.requestModule;return us.request(ss,function(hs,fs){function gs(Bs){200===Bs.statusCode||ls.emit('error',509===Bs.statusCode?Error('Bandwidth limit reached: '+Bs.headers['x-mega-time-left']+' seconds until it resets'):Error('MEGA returned a '+Bs.statusCode+' status code'))}function ms(Bs){ls.emit('error',Error('Connection error: '+Bs.message))}if(hs)return ls.emit('error',hs);if('string'!=typeof fs.g||'http'!==fs.g.substr(0,4))return ls.emit('error',Error('MEGA servers returned an invalid response, maybe caused by rate limit'));if(es||(es=fs.s),Zi>es)return ls.emit('error',Error('You can\'t download past the end of the file.'));if(1===ns){var ys=ps(fs.g+'/'+$i+'-'+(es-1));ys.on('error',ms),ys.on('response',gs),ys.pipe(ds)}else{var Es=$i,vs=as,Ss=Fo.create(),Is=!1;ls.on('error',function(){Is=!0});var Rs=function Bs(){if(!Is){var Ls=_Mathmin(es,Es+vs);if(!(Ls<=Es)){var Ps=ps(fs.g+'/'+Es+'-'+(Ls-1));Ps.on('end',Bs),Ps.on('error',ms),Ps.on('response',gs),Ss.append(Ps),Es=Ls,vs<is&&(vs+=os)}}};Ss.on('error',function(Bs){return ls.emit('error',Bs)});for(var As=0;As<ns;As++)Rs();Ss.pipe(ds)}var Cs=0;ls.on('data',function(Bs){Cs+=Bs.length,ls.emit('progress',{bytesLoaded:Cs,bytesTotal:fs.s})})}),Qi&&ba(ls,Qi),ls}},{key:'link',value:function(Ji,Qi){1===arguments.length&&'function'==typeof Ji&&(Qi=Ji,Ji={noKey:!1}),'boolean'==typeof Ji&&(Ji={noKey:Ji});var Zi='https://mega.nz/#'+(this.directory?'F':'')+'!'+this.downloadId;!Ji.noKey&&this.key&&(Zi+='!'+Da(this.key)),!Ji.noKey&&this.loadedFile&&(Zi+='!'+this.loadedFile),Qi(null,Zi)}}]),Xi}(Mt);Ui.LABEL_NAMES=['','red','orange','yellow','green','blue','purple','grey'],Ui.fromURL=function(Gi){if('object'===('undefined'==typeof Gi?'undefined':Sa(Gi)))return new Ui(Gi);var Xi=Pi(Gi);if('mega.nz'!==Xi.hostname&&'mega.co.nz'!==Xi.hostname)throw Error('Invalid URL: wrong hostname');if(!Xi.hash)throw Error('Invalid URL: no hash');var Vi=Xi.hash.split('!');if('#'!==Vi[0]&&'#F'!==Vi[0])throw Error('Invalid URL: format not recognized');if(1>=Vi.length)throw Error('Invalid URL: too few arguments');if(Vi.length>=('#'===Vi[0]?4:5))throw Error('Invalid URL: too many arguments');return new Ui({downloadId:Vi[1],key:Vi[2],directory:'#F'===Vi[0],loadedFile:Vi[3]})},Ui.unpackAttributes=function(Gi){for(var Xi=0;Xi<Gi.length&&Gi.readUInt8(Xi);)Xi++;if(Gi=Gi.slice(0,Xi).toString(),'MEGA{"'!==Gi.substr(0,6))throw Error('Attributes could not be decrypted with provided key.');return JSON.parse(Gi.substr(4).replace(/\0|[^}]*$/g,''))};var zi={},Yi=function(Gi){function Xi(Vi,Ji){Ia(this,Xi);var Qi=Ca(this,(Xi.__proto__||Object.getPrototypeOf(Xi)).call(this,Vi));if(Qi.storage=Ji,Qi.api=Ji.api,Qi.nodeId=Vi.h,Qi.timestamp=Vi.ts,Qi.type=Vi.t,Qi.directory=!!Qi.type,Vi.k){var Zi=Vi.k.split(':')[0],$i=Ji.shareKeys[Zi],es=Ji.aes;$i&&(es=zi[Zi],!es&&(es=zi[Zi]=new Ta($i))),Qi.loadMetadata(es,Vi)}return Qi}return Aa(Xi,Gi),xa(Xi,[{key:'loadAttributes',value:function(){throw Error('This is not needed for files loaded from logged in sessions')}},{key:'mkdir',value:function(Ji,Qi){function Zi(ss){Qi&&Qi(ss)}var $i=this;if(!this.directory)throw Error('node isn\'t a directory');if('string'==typeof Ji&&(Ji={name:Ji}),Ji.attributes||(Ji.attributes={}),Ji.name&&(Ji.attributes.n=Ji.name),!Ji.attributes.n)throw Error('file name is required');if(Ji.target||(Ji.target=this),Ji.key||(Ji.key=new H(va(32))),32!==Ji.key.length)throw Error('wrong key length, must be 256bit');var es=Ji.key,ns=Xi.packAttributes(Ji.attributes);Ua(es).encryptCBC(ns);var as=new H(es);this.storage.aes.encryptECB(as);var os={a:'p',t:Ji.target.nodeId?Ji.target.nodeId:Ji.target,n:[{h:'xxxxxxxx',t:1,a:Da(ns),k:Da(as)}]},is=Wi(this.storage.shareKeys,this);0<is.length&&(os.cr=Ni(this.storage,[{nodeId:'xxxxxxxx',key:es}],is)),this.api.request(os,function(ss,ds){if(ss)return Zi(ss);var ls=$i.storage._importFile(ds.f[0]);$i.storage.emit('add',ls),Qi&&Qi(null,ls)})}},{key:'upload',value:function(Ji,Qi,Zi){var $i=this;if(!this.directory)throw Error('node is not a directory');if(2===arguments.length&&'function'==typeof Qi){var es=[Qi,null];Zi=es[0],Qi=es[1]}if('string'==typeof Ji&&(Ji={name:Ji}),Ji.attributes||(Ji.attributes={}),Ji.name&&(Ji.attributes.n=Ji.name),!Ji.attributes.n)throw Error('File name is required.');Ji.target||(Ji.target=this);var ns=qa(Ji.key);if(ns||(ns=va(24)),ns instanceof H||(ns=new H(ns)),24!==ns.length)throw Error('Wrong key length. Key must be 192bit');Ji.key=ns;var as,os=[],is=function(us,ps,hs,fs){if(us)return ds(us);if((os[ps]=hs,0===ps&&(as=fs.key),!Ji.thumbnailImage||os[1])&&(!Ji.previewImage||os[2])&&os[0]){var gs=Xi.packAttributes(Ji.attributes);Ua(as).encryptCBC(gs);var ms=new H(as);$i.storage.aes.encryptECB(ms);var ys={h:os[0].toString(),t:0,a:Da(gs),k:Da(ms)};1!==os.length&&(ys.fa=os.slice(1).map(function(Ss,Is){return Is+'*'+Da(Ss)}).filter(function(Ss){return Ss}).join('/'));var Es={a:'p',t:Ji.target.nodeId?Ji.target.nodeId:Ji.target,n:[ys]},vs=Wi($i.storage.shareKeys,$i);0<vs.length&&(Es.cr=Ni($i.storage,[{nodeId:ys.h,key:as}],vs)),$i.api.request(Es,function(Ss,Is){if(Ss)return ds(Ss);var Rs=$i.storage._importFile(Is.f[0]);$i.storage.emit('add',Rs),ss.emit('complete',Rs),Zi&&Zi(null,Rs)})}};Ji.thumbnailImage&&this._uploadAttribute(Ji,Ji.thumbnailImage,1,is),Ji.previewImage&&this._uploadAttribute(Ji,Ji.previewImage,2,is);var ss=this._upload(Ji,Qi,0,is),ds=function(us){Zi?Zi(us):ss.emit('error',us)};return ss}},{key:'_upload',value:function(Ji,Qi,Zi,$i){var es=this,ns=za(Ji.key),as=pa().pause(),os=ya(as,ns),is=Ji.size;return Qi&&'function'!=typeof Qi.pipe&&(is=Qi.length,os.write(Qi),os.end()),is?this._uploadWithSize(os,is,ns,as,Zi,null,$i):os=ya(_a(function(ss){es._uploadWithSize(os,ss,ns,as,Zi,null,$i)}),os),Qi&&'function'==typeof Qi.pipe&&Qi.pipe(os),os}},{key:'_uploadAttribute',value:function(Ji,Qi,Zi,$i){var es=this,ns=function(os,is){if(os)return $i(os);var ss=is.length,ds=16*_Mathceil(ss/16)-ss;0!=ds&&(is=H.concat([is,H.alloc(ds)]));var ls=Ji.handle?Ua(Ji.key):new Ta(Ji.key.slice(0,16));ls.encryptCBC(is);var us=pa().pause(),ps=ya(us);ps.write(is),ps.end(),es._uploadWithSize(ps,is.length,ps,us,Zi,Ji.handle,$i)};return Qi instanceof H?void ns(null,Qi):void ba(Qi,ns)}},{key:'_uploadWithSize',value:function(Ji,Qi,Zi,$i,es,ns,as){var os=this,is=2,ss=0===es?{a:'u',ssl:is,s:Qi,ms:'-1',r:0,e:0}:{a:'ufa',ssl:is,s:Qi};ns&&(ss.h=ns),this.api.request(ss,function(ds,ls){if(ds)return as(ds);var us=os.api.requestModule({uri:ls.p+(0===es?'':'/'+(es-1)),headers:{'Content-Length':Qi},method:'POST'});ba(us,function(hs,fs){as(hs,es,fs,Zi)});var ps=0;Zi.on('data',function(hs){ps+=hs.length,Ji.emit('progress',{bytesLoaded:ps,bytesTotal:Qi})}),Zi.on('end',function(){if(Qi&&ps!==Qi)return Ji.emit('error',Error('Specified data size does not match: '+Qi+' !== '+ps))}),Zi.pipe(us),$i.resume()})}},{key:'uploadAttribute',value:function(Ji,Qi,Zi){var $i=this;if('string'==typeof Ji&&(Ji=['thumbnail','preview'].indexOf(Ji)),0!==Ji&&1!==Ji)throw Error('Invalid attribute type');this._uploadAttribute({key:this.key,handle:this.nodeId},Qi,Ji+1,function(es,ns,as){if(es)return Zi(es);var is={a:'pfa',n:$i.nodeId,fa:Ji+'*'+Da(as)};$i.api.request(is,function(ss){return ss?Zi(ss):void Zi(null,$i)})})}},{key:'delete',value:function(Ji,Qi){return'function'==typeof Ji&&(Qi=Ji,Ji=void 0),'undefined'==typeof Ji&&(Ji=this.parent===this.storage.trash),Ji?this.api.request({a:'d',n:this.nodeId},Qi):this.moveTo(this.storage.trash,Qi),this}},{key:'moveTo',value:function(Ji,Qi){if('string'==typeof Ji&&(Ji=this.storage.files[Ji]),!(Ji instanceof Ui))throw Error('target must be a folder or a nodeId');var Zi={a:'m',n:this.nodeId,t:Ji.nodeId},$i=Wi(this.storage.shareKeys,Ji);return 0<$i.length&&(Zi.cr=Ni(this.storage,[this],$i)),this.api.request(Zi,Qi),this}},{key:'setAttributes',value:function(Ji,Qi){var Zi=this;Object.assign(this.attributes,Ji);var $i=Xi.packAttributes(this.attributes);return Ua(this.key).encryptCBC($i),this.api.request({a:'a',n:this.nodeId,at:Da($i)},function(){Zi.parseAttributes(Zi.attributes),Qi&&Qi()}),this}},{key:'rename',value:function(Ji,Qi){return this.setAttributes({n:Ji},Qi),this}},{key:'setLabel',value:function(Ji,Qi){if('string'==typeof Ji&&(Ji=Ui.LABEL_NAMES.indexOf(Ji)),'number'!=typeof Ji||_Mathfloor(Ji)!==Ji||0>Ji||7<Ji)throw Error('label must be a integer between 0 and 7 or a valid label name');return this.setAttributes({lbl:Ji},Qi),this}},{key:'setFavorite',value:function(Ji,Qi){return this.setAttributes({fav:Ji?1:0},Qi),this}},{key:'link',value:function(Ji,Qi){var Zi=this;1===arguments.length&&'function'==typeof Ji&&(Qi=Ji,Ji={noKey:!1}),'boolean'==typeof Ji&&(Ji={noKey:Ji});var $i=Ji.__folderKey;return this.directory&&!$i?(this.shareFolder(Ji,Qi),this):(this.api.request({a:'l',n:this.nodeId},function(es,ns){if(es)return Qi(es);var as='https://mega.nz/#'+($i?'F':'')+'!'+ns;!Ji.noKey&&Zi.key&&(as+='!'+Da($i||Zi.key)),Qi(null,as)}),this)}},{key:'shareFolder',value:function(Ji,Qi){var Zi=this;if(!this.directory)throw Error('node isn\'t a folder');var $i=this.nodeId,es=this.storage.shareKeys[$i];if(es)return this.link(Object.assign({__folderKey:es},Ji),Qi),this;var ns=qa(Ji.key);if(ns||(ns=va(16)),ns instanceof H||(ns=new H(ns)),16!==ns.length)return void it(function(){Qi(Error('share key must be 16 byte / 22 characters'))});this.storage.shareKeys[$i]=ns;var as=new H($i+$i);this.storage.aes.encryptECB(as);var os={a:'s2',n:$i,s:[{u:'EXP',r:0}],ok:Da(this.storage.aes.encryptECB(new H(ns))),ha:Da(as),cr:Ni(this.storage,this)};return this.api.request(os,function(){Zi.link(Object.assign({__folderKey:ns},Ji),Qi)}),this}},{key:'unshareFolder',value:function(Ji,Qi){var Zi={a:'s2',n:this.nodeId,s:[{u:'EXP',r:''}]};return delete this.storage.shareKeys[this.nodeId],this.api.request(Zi,function(){Qi&&Qi()}),this}}]),Xi}(Ui);Yi.packAttributes=function(Gi){var Xi=JSON.stringify(Gi);Xi=new H('MEGA'+Xi);var Vi=H.alloc(16*_Mathceil(Xi.length/16));return Xi.copy(Vi),Vi};function Ni(Gi,Xi,Vi){var Ji=Gi.shareKeys;Array.isArray(Xi)||(Xi=Fi(Xi)),Vi||(Vi=Xi.map(function(as){return Wi(Ji,as)}).reduce(function(as,os){return as.concat(os)}).filter(function(as,os,is){return os===is.indexOf(as)}));for(var $i,Qi=[Vi,Xi.map(function(as){return as.nodeId}),[]],Zi=Vi.length;Zi--;){$i=new Ta(Ji[Vi[Zi]]);for(var ns,es=Xi.length;es--;)ns=new H(Xi[es].key),ns&&(32===ns.length||16===ns.length)&&Qi[2].push(Zi,es,Da($i.encryptECB(ns)))}return Qi}function Fi(Gi){return[Gi].concat((Gi.children||[]).map(Fi).reduce(function(Xi,Vi){return Xi.concat(Vi)},[]))}function Wi(Gi,Xi){var Vi=Xi.nodeId,Ji=Xi.parent,Qi=[];return Gi[Vi]&&Qi.push(Vi),Ji?Qi.concat(Wi(Gi,Ji)):Qi}var Ki=function(Gi){function Xi(Vi,Ji){Ia(this,Xi);var Qi=Ca(this,(Xi.__proto__||Object.getPrototypeOf(Xi)).call(this));if(1===arguments.length&&'function'==typeof Vi&&(Ji=Vi,Vi={}),!Vi.email)throw Error('starting a session without credentials isn\'t supported');return Ji||(Ji=function($i){if($i)throw $i}),Vi.keepalive=void 0===Vi.keepalive||!!Vi.keepalive,Vi.autoload=void 0===Vi.autoload||!!Vi.autoload,Vi.autologin=void 0===Vi.autologin||!!Vi.autologin,Qi.api=new Uo(Vi.keepalive),Qi.files={},Qi.options=Vi,Vi.autologin?Qi.login(Ji):Ji(null,Qi),Qi.status='closed',Qi}return Aa(Xi,Gi),xa(Xi,[{key:'login',value:function(Ji){var Qi=this,Zi=function(){Qi.status='ready',Ji(null,Qi),Qi.emit('ready',Qi)},$i=function(is){Qi.api.request({a:'ug'},function(ss,ds){return ss?is(ss):void(Qi.name=ds.name,Qi.user=ds.u,Qi.options.autoload?Qi.reload(!0,function(ls){return ls?is(ls):void Zi()}):Zi())})};this.email=this.options.email;var es=Oa(new H(this.options.password));delete this.options.password;var ns=new Ta(es),as=Da(ns.stringhash(new H(this.email)));this.api.request({a:'us',user:this.email,uh:as},function(os,is){if(os)return Ji(os);Qi.key=qa(is.k),ns.decryptECB(Qi.key),Qi.aes=new Ta(Qi.key);var ss=qa(is.csid),ds=Qi.aes.decryptECB(qa(is.privk)),ls=go(ds);if(!ls)throw Error('invalid credentials');var us=Da(mo(ss,ls).slice(0,43));Qi.api.sid=Qi.sid=us,Qi.RSAPrivateKey=ls,$i(Ji)}),this.status='connecting'}},{key:'reload',value:function(Ji,Qi){var Zi=this;if('function'==typeof Ji){var $i=[Qi,Ji];Ji=$i[0],Qi=$i[1]}return'connecting'!==this.status||Ji?void(this.mounts=[],this.api.request({a:'f',c:1},function(es,ns){return es?Qi(es):void(Zi.shareKeys=ns.ok.reduce(function(as,os){var is=os.h,ss=Zi.aes.encryptECB(new H(is+is));return Na(qa(os.ha),ss)&&(as[is]=Zi.aes.decryptECB(qa(os.k))),as},{}),ns.f.forEach(function(as){return Zi._importFile(as)}),Qi(null,Zi.mounts))}),this.api.on('sc',function(es){var ns={};es.forEach(function(as){if('u'===as.a){var os=Zi.files[as.n];os&&(os.timestamp=as.ts,os.decryptAttributes(as.at,function(){}),os.emit('update'),Zi.emit('update',os))}else'd'===as.a?ns[as.n]=!0:'t'===as.a&&as.t.f.forEach(function(is){var ss=Zi.files[is.h];if(ss){delete ns[is.h];var ds=ss.parent;if(ds.nodeId===is.p)return;ds.children.splice(ds.children.indexOf(ss),1),ss.parent=Zi.files[is.p],ss.parent.children||(ss.parent.children=[]),ss.parent.children.push(ss),ss.emit('move',ds),Zi.emit('move',ss,ds)}else Zi.emit('add',Zi._importFile(is))})}),Object.keys(ns).forEach(function(as){var os=Zi.files[as],is=os.parent;is.children.splice(is.children.indexOf(os),1),Zi.emit('delete',os),os.emit('delete')})})):this.once('ready',this.reload.bind(this,Ji,Qi))}},{key:'_importFile',value:function(Ji){if(!this.files[Ji.h]){var Qi=this.files[Ji.h]=new Yi(Ji,this);if(Ji.t===Xi.NODE_TYPE_DRIVE&&(this.root=Qi,Qi.name='Cloud Drive'),Ji.t===Xi.NODE_TYPE_RUBBISH_BIN&&(this.trash=Qi,Qi.name='Rubbish Bin'),Ji.t===Xi.NODE_TYPE_INBOX&&(this.inbox=Qi,Qi.name='Inbox'),1<Ji.t&&this.mounts.push(Qi),Ji.p){var Zi=this.files[Ji.p];Zi.children||(Zi.children=[]),Zi.children.push(Qi),Qi.parent=Zi}}return this.files[Ji.h]}},{key:'mkdir',value:function(Ji,Qi){var Zi=this;return'ready'===this.status?this.root.mkdir(Ji,Qi):void this.on('ready',function(){return Zi.root.mkdir(Ji,Qi)})}},{key:'upload',value:function(Ji,Qi,Zi){var $i=this;return'ready'===this.status?this.root.upload(Ji,Qi,Zi):void this.on('ready',function(){return $i.root.upload(Ji,Qi,Zi)})}},{key:'close',value:function(){this.status='closed',this.api.close()}}]),Xi}(Mt);Ki.NODE_TYPE_FILE=0,Ki.NODE_TYPE_DIR=1,Ki.NODE_TYPE_DRIVE=2,Ki.NODE_TYPE_INBOX=3,Ki.NODE_TYPE_RUBBISH_BIN=4;var Hi=Ui.fromURL;export{Ki as Storage,Ui as File,Hi as file,za as encrypt,Ya as decrypt};